#include <machine.h>
#include "types.h"
#include "unisel.h"
#include "tuneup.h"
#include "SWAN_L_C.h"
#include "SWANMAIN.h"
#include "SPRINTF.h"
#include "SYSTEM.h"
#include "SOUND_CODE.h"
#include "PUT_TEXT.h"
#include "MEMORY.h"
#include "PAD.h"
#include "story.h"
#include "m_cpu2p.h"
#include "m_game.h"
#include "stagesel.h"
#include "flash.h"
#include "IP_MES.h"
#include "menu.h"

static char str0[] = "%02d";
static char str1[] = "%02d";
static char str2[] = "%02d";
static char str3[] = "%02d";
static char str4[] = "--";
static char str5[] = "%02d";
static char str6[] = "%02d";
static char str7[] = "%02d";
static char str8[] = "--";

static u8 unisel_data[] = {
	0x01, 0x01, 0xA8, 0xC0,
    0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,
    0x04, 0x00,
};

static u8 unisel_data2[] = {
	0x01, 0x01, 0xA8, 0xC0,
	0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,
	0x04, 0x00,
};

static u8 unisel_data3[] = {
	0x01, 0x01, 0xA8, 0xC0,
	0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,
	0x00, 0x00, 0x00, 0x00,
	0x04, 0x00 
};

static const char far unisel00[] = " AU-NAME HP EN TP";
static const char far unisel01[] = " No File -- -- --";
static const char far unisel02[] = "  PLAY   DELETE  ";
static const char far unisel03[] = "TYPE";
static const char far unisel04[] = "NAME";
static const char far unisel05[] = "STAGE";
static const char far unisel06[] = "HP";
static const char far unisel07[] = "ENG";
static const char far unisel08[] = "TP";
static const char far unisel09[] = "PLAYER    ";
static const char far unisel10[] = "       CPU";
static const char far unisel11[] = "PLAYER/CPU";
static const char far unisel12[] = "SAVE FILE%1d";
static const char far unisel13[] = "NEW GAME  ";
static const char far unisel14[] = "          ";

static const char far * far unisel[] =
{
    unisel09,
    unisel09,
    unisel10,
    unisel11,
    unisel12,
    unisel13,
    unisel14,
};

static void near unk_8B5EC()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("JMP	_8B672");
ASM_INLINE("_8B5F4:");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("ADD	BX,0x1E3C");
	ASM_INLINE("ADD	BX,0x000D");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("JMP	_8B612");
ASM_INLINE("_8B608:");
	ASM_INLINE("CMP	[BX].B,0x04");
	ASM_INLINE("JBE	_8B610");
	ASM_INLINE("MOV	[BX].B,0x04");
ASM_INLINE("_8B610:");
	ASM_INLINE("INC	AX");
	ASM_INLINE("INC	BX");
ASM_INLINE("_8B612:");
	ASM_INLINE("CMP	AX,0x0010");
	ASM_INLINE("JL	_8B608");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("ADD	BX,0x1E3C");
	ASM_INLINE("CMP	[BX+0x1C].B,0x00");
	ASM_INLINE("JZ	_8B671");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("ADD	BX,0x1E3C");
	ASM_INLINE("ADD	BX,0x000D");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("JMP	_8B643");
ASM_INLINE("_8B63E:");
	ASM_INLINE("MOV	[BX].B,0x00");
	ASM_INLINE("INC	BX");
	ASM_INLINE("INC	AX");
ASM_INLINE("_8B643:");
	ASM_INLINE("CMP	AX,0x0010");
	ASM_INLINE("JL	_8B63E");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("ADD	BX,0x1E3C");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("MOV	DX,0x001D");
	ASM_INLINE("MUL	DX");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("ADD	SI,0x1E3C");
	ASM_INLINE("CMP	[SI+0x01].B,0x00");
	ASM_INLINE("JZ	_8B66C");
	ASM_INLINE("XOR	AL,AL");
	ASM_INLINE("JMP	_8B66E");
ASM_INLINE("_8B66C:");
	ASM_INLINE("MOV	AL,0x01");
ASM_INLINE("_8B66E:");
	ASM_INLINE("MOV	[BX+0x01].B,AL");
ASM_INLINE("_8B671:");
	ASM_INLINE("INC	CX");
ASM_INLINE("_8B672:");
	ASM_INLINE("CMP	CX,0x0009");
	ASM_INLINE("JGE	_8B67A");
	ASM_INLINE("JMP	_8B5F4");
ASM_INLINE("_8B67A:");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

static s16 near unk_8B67E(u16 val)
{
	s16 i;

	for(i = 1; i < 9; i++)
	{
		if(*(SAVE_DATA_START + 0x3C + (i * 0x1d)) == val)
		{
			return i;
		}
	}
	return 0;
}

static s16 near unk_8B6AB()
{
	s16 i;

	for(i = 1; i < 9; i++)
	{
		if(*(SAVE_DATA_START + 0x3C + (i * 0x1d)) == -1)
		{
			return i;
		}
	}
	return 0;
}

static u16 near unk_8B6D1()
{
	return 9;
}

static void near unk_8B6D5()
{
	font_put2XY; //Force include
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0002");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	DI,BX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	CX,DX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("MOV	[BP-0x02].W,0x0000");
	ASM_INLINE("MOV	CX,0x0000");
	ASM_INLINE("MOV	BX,0xB9CF");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	BX,0x0001");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("ADD	BX,[BP-0x02].W");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("MOV	BX,0x0001");
	ASM_INLINE("POP	CX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("JMP	_8B752");
ASM_INLINE("_8B722:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	CX,0xB9CF");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	DX,DI");
	ASM_INLINE("ADD	DX,[BP-0x02].W");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	DX,SI");
	ASM_INLINE("ADD	DX,BX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("POP	BX");
	ASM_INLINE("INC	BX");
	ASM_INLINE("POP	AX");
ASM_INLINE("_8B752:");
	ASM_INLINE("MOV	DX,AX");
	ASM_INLINE("DEC	DX");
	ASM_INLINE("CMP	BX,DX");
	ASM_INLINE("JL	_8B722");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	CX,0xB9CF");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	DX,DI");
	ASM_INLINE("ADD	DX,[BP-0x02].W");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	DX,SI");
	ASM_INLINE("ADD	DX,BX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0002");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("MOV	[BP-0x02].W,0x0001");
	ASM_INLINE("POP	AX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("JMP	_8B82C");
ASM_INLINE("_8B78F:");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("MOV	CX,0x0000");
	ASM_INLINE("MOV	BX,0xB9CF");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	BX,0x0001");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("ADD	BX,[BP-0x02].W");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0003");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("MOV	BX,0x0001");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JMP	_8B7F4");
ASM_INLINE("_8B7C4:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	CX,0xB9CF");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	DX,DI");
	ASM_INLINE("ADD	DX,[BP-0x02].W");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	DX,SI");
	ASM_INLINE("ADD	DX,BX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("POP	BX");
	ASM_INLINE("INC	BX");
	ASM_INLINE("POP	AX");
ASM_INLINE("_8B7F4:");
	ASM_INLINE("MOV	DX,AX");
	ASM_INLINE("DEC	DX");
	ASM_INLINE("CMP	BX,DX");
	ASM_INLINE("JL	_8B7C4");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	CX,0xB9CF");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	DX,DI");
	ASM_INLINE("ADD	DX,[BP-0x02].W");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	DX,SI");
	ASM_INLINE("ADD	DX,BX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("INC	[BP-0x02].W");
	ASM_INLINE("POP	AX");
	ASM_INLINE("POP	CX");
ASM_INLINE("_8B82C:");
	ASM_INLINE("MOV	BX,CX");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("CMP	BX,[BP-0x02].W");
	ASM_INLINE("JLE	_8B837");
	ASM_INLINE("JMP	_8B78F");
ASM_INLINE("_8B837:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("MOV	CX,0x0000");
	ASM_INLINE("MOV	BX,0xB9CF");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	BX,0x0001");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("ADD	BX,[BP-0x02].W");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0006");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("MOV	BX,0x0001");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JMP	_8B89B");
ASM_INLINE("_8B86B:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	CX,0xB9CF");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("ADD	CX,[BP-0x02].W");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	CX,SI");
	ASM_INLINE("ADD	CX,BX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0x0007");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("POP	BX");
	ASM_INLINE("INC	BX");
	ASM_INLINE("POP	AX");
ASM_INLINE("_8B89B:");
	ASM_INLINE("MOV	CX,AX");
	ASM_INLINE("DEC	CX");
	ASM_INLINE("CMP	BX,CX");
	ASM_INLINE("JL	_8B86B");
	ASM_INLINE("MOV	CX,0x0000");
	ASM_INLINE("MOV	AX,0xB9CF");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("ADD	DI,[BP-0x02].W");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("ADD	SI,BX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("MOV	AX,0x0008");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

static void near unk_8B8D1()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("TEST	DX,DX");
	ASM_INLINE("JZ	_8B902");
	ASM_INLINE("MOV	SI,0x0000");
	ASM_INLINE("MOV	DX,0xB9CF");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("ADD	BX,0x0002");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("INC	AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0009");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("JMP	_8B92A");
ASM_INLINE("_8B902:");
	ASM_INLINE("MOV	SI,0x0000");
	ASM_INLINE("MOV	DX,0xB9CF");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("ADD	BX,0x0002");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("INC	AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x000A");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
ASM_INLINE("_8B92A:");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

static void near unk_8B92E()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("TEST	DX,DX");
	ASM_INLINE("JZ	_8B96A");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	CX,0xB9CF");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("ADD	BX,0x000A");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	BX,0x0007");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("ADD	SI,0x0002");
	ASM_INLINE("ADD	SI,AX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("MOV	AX,0x0009");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("JMP	_8B999");
ASM_INLINE("_8B96A:");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	CX,0xB9CF");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("ADD	BX,0x000A");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	BX,0x0007");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("ADD	SI,0x0002");
	ASM_INLINE("ADD	SI,AX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("MOV	AX,0x000A");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
ASM_INLINE("_8B999:");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

static void near unk_8B99D()
{
	bmp_print; //Force include
	hsprintf; //Force include
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0024");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	SI,BX");
	ASM_INLINE("MOV	DI,0x1E59");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("LEA	DI,[BP-0x20].B");
	ASM_INLINE("MOV	[BP-0x24].W,0x0000");
	ASM_INLINE("MOV	[BP-0x22].W,0xB9C3");
ASM_INLINE("_8B9BB:");
	ASM_INLINE("INC	[BP-0x24].W");
	ASM_INLINE("LES	BX,[BP-0x24]");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("MOV	BL,ES:[BX].B");
	ASM_INLINE("MOV	[DI].B,BL");
	ASM_INLINE("INC	DI");
	ASM_INLINE("TEST	BL,BL");
	ASM_INLINE("JNZ	_8B9BB");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("INC	AX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("INC	BX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("LEA	CX,[BP-0x20].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JMP	_8BB72");
ASM_INLINE("_8B9F4:");
	ASM_INLINE("CMP	[DI].B,0xFF");
	ASM_INLINE("JNZ	_8B9FC");
	ASM_INLINE("JMP	_8BB23");
ASM_INLINE("_8B9FC:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("LEA	BX,[BP-0x20].B");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	CX,0xA78E");
	ASM_INLINE("MOV	ES,CX");
	ASM_INLINE("MOV	BL,[DI].B");
	ASM_INLINE("XOR	BH,BH");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	//ASM_INLINE("MOV	CX,ES:[BX+0x000A].W");
	ASM_OP5(0x26,0x8B,0x8F,0x0A,0x00);
	//ASM_INLINE("MOV	BX,ES:[BX+0x000C].W");
	ASM_OP5(0x26,0x8B,0x9F,0x0C,0x00);
	ASM_INLINE("MOV	[BP-0x24].W,CX");
	ASM_INLINE("MOV	[BP-0x22].W,BX");
	ASM_INLINE("POP	BX");
ASM_INLINE("_8BA20:");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("INC	[BP-0x24].W");
	ASM_INLINE("LES	BX,[BP-0x24]");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("MOV	CL,ES:[BX].B");
	ASM_INLINE("POP	BX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	[BX].B,CL");
	ASM_INLINE("POP	BX");
	ASM_INLINE("INC	BX");
	ASM_INLINE("TEST	CL,CL");
	ASM_INLINE("JNZ	_8BA20");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("ADD	AX,0x0002");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("ADD	BX,0x0002");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("LEA	CX,[BP-0x20].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("MOV	BL,[DI+0x02].B");
	ASM_INLINE("XOR	BH,BH");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	BX,0x070A");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("LEA	BX,[BP-0x20].B");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("CALLF	hsprintf_, SEG hsprintf_");
	ASM_INLINE("ADD	SP,0x0006");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("POP	DX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("ADD	AX,0x000A");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("ADD	BX,0x0002");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("LEA	CX,[BP-0x20].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("MOV	BL,[DI+0x03].B");
	ASM_INLINE("XOR	BH,BH");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	BX,0x0710");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("LEA	BX,[BP-0x20].B");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("CALLF	hsprintf_, SEG hsprintf_");
	ASM_INLINE("ADD	SP,0x0006");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("POP	DX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("ADD	AX,0x000D");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("ADD	BX,0x0002");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("LEA	CX,[BP-0x20].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("MOV	BL,[DI+0x04].B");
	ASM_INLINE("XOR	BH,BH");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	BX,0x0716");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("LEA	BX,[BP-0x20].B");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("CALLF	hsprintf_, SEG hsprintf_");
	ASM_INLINE("ADD	SP,0x0006");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("POP	DX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("ADD	AX,0x0010");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("ADD	BX,0x0002");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("LEA	CX,[BP-0x20].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	AX");
	ASM_INLINE("POP	DX");
	ASM_INLINE("JMP	_8BB6E");
ASM_INLINE("_8BB23:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("LEA	BX,[BP-0x20].B");
	ASM_INLINE("MOV	[BP-0x24].W,0x0002");
	ASM_INLINE("MOV	[BP-0x22].W,0xB9C4");
ASM_INLINE("_8BB32:");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("INC	[BP-0x24].W");
	ASM_INLINE("LES	BX,[BP-0x24]");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("MOV	CL,ES:[BX].B");
	ASM_INLINE("POP	BX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	[BX].B,CL");
	ASM_INLINE("POP	BX");
	ASM_INLINE("INC	BX");
	ASM_INLINE("TEST	CL,CL");
	ASM_INLINE("JNZ	_8BB32");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("INC	AX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("ADD	BX,0x0002");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("LEA	CX,[BP-0x20].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	AX");
	ASM_INLINE("POP	DX");
ASM_INLINE("_8BB6E:");
	ASM_INLINE("ADD	DI,0x001D");
	ASM_INLINE("INC	DX");
ASM_INLINE("_8BB72:");
	ASM_INLINE("CMP	DX,0x0008");
	ASM_INLINE("JGE	_8BB7A");
	ASM_INLINE("JMP	_8B9F4");
ASM_INLINE("_8BB7A:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("LEA	DI,[BP-0x20].B");
	ASM_INLINE("MOV	[BP-0x24].W,0x0004");
	ASM_INLINE("MOV	[BP-0x22].W,0xB9C5");
ASM_INLINE("_8BB88:");
	ASM_INLINE("INC	[BP-0x24].W");
	ASM_INLINE("LES	BX,[BP-0x24]");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("MOV	BL,ES:[BX].B");
	ASM_INLINE("MOV	[DI].B,BL");
	ASM_INLINE("INC	DI");
	ASM_INLINE("TEST	BL,BL");
	ASM_INLINE("JNZ	_8BB88");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("INC	AX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("ADD	BX,0x0002");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("LEA	CX,[BP-0x20].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JMP	_8BBCD");
ASM_INLINE("_8BBC3:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("CALL	unk_8B8D1_");
	ASM_INLINE("INC	CX");
	ASM_INLINE("POP	AX");
ASM_INLINE("_8BBCD:");
	ASM_INLINE("CMP	CX,0x0008");
	ASM_INLINE("JL	_8BBC3");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("JMP	_8BBE0");
ASM_INLINE("_8BBD6:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("CALL	unk_8B92E_");
	ASM_INLINE("INC	CX");
	ASM_INLINE("POP	AX");
ASM_INLINE("_8BBE0:");
	ASM_INLINE("CMP	CX,0x0002");
	ASM_INLINE("JL	_8BBD6");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

static void near unk_8BBED()
{
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0024");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	DI,BX");
	ASM_INLINE("LEA	SI,[BP-0x20].B");
	ASM_INLINE("MOV	[BP-0x24].W,0x0004");
	ASM_INLINE("MOV	[BP-0x22].W,0xB9C5");
ASM_INLINE("_8BC06:");
	ASM_INLINE("INC	[BP-0x24].W");
	ASM_INLINE("LES	BX,[BP-0x24]");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("MOV	BL,ES:[BX].B");
	ASM_INLINE("MOV	[SI].B,BL");
	ASM_INLINE("INC	SI");
	ASM_INLINE("TEST	BL,BL");
	ASM_INLINE("JNZ	_8BC06");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("INC	AX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("INC	DI");
	ASM_INLINE("ADD	DI,DX");
	ASM_INLINE("SUB	DI,0x0003");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("LEA	CX,[BP-0x20].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

static void near unk_8BC45()
{
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0014");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("LEA	SI,[BP-0x10].B");
	ASM_INLINE("MOV	[BP-0x14].W,0x0006");
	ASM_INLINE("MOV	[BP-0x12].W,0xB9C6");
ASM_INLINE("_8BC5B:");
	ASM_INLINE("INC	[BP-0x14].W");
	ASM_INLINE("LES	BX,[BP-0x14]");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("MOV	AL,ES:[BX].B");
	ASM_INLINE("MOV	[SI].B,AL");
	ASM_INLINE("INC	SI");
	ASM_INLINE("TEST	AL,AL");
	ASM_INLINE("JNZ	_8BC5B");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	BX,0x0018");
	ASM_INLINE("LEA	CX,[BP-0x10].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("LEA	SI,[BP-0x10].B");
	ASM_INLINE("MOV	[BP-0x14].W,0x000C");
	ASM_INLINE("MOV	[BP-0x12].W,0xB9C6");
ASM_INLINE("_8BC8F:");
	ASM_INLINE("INC	[BP-0x14].W");
	ASM_INLINE("LES	BX,[BP-0x14]");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("MOV	AL,ES:[BX].B");
	ASM_INLINE("MOV	[SI].B,AL");
	ASM_INLINE("INC	SI");
	ASM_INLINE("TEST	AL,AL");
	ASM_INLINE("JNZ	_8BC8F");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	BX,0x0030");
	ASM_INLINE("LEA	CX,[BP-0x10].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("LEA	SI,[BP-0x10].B");
	ASM_INLINE("MOV	[BP-0x14].W,0x0002");
	ASM_INLINE("MOV	[BP-0x12].W,0xB9C7");
ASM_INLINE("_8BCC3:");
	ASM_INLINE("INC	[BP-0x14].W");
	ASM_INLINE("LES	BX,[BP-0x14]");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("MOV	AL,ES:[BX].B");
	ASM_INLINE("MOV	[SI].B,AL");
	ASM_INLINE("INC	SI");
	ASM_INLINE("TEST	AL,AL");
	ASM_INLINE("JNZ	_8BCC3");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	BX,0x0048");
	ASM_INLINE("LEA	CX,[BP-0x10].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("LEA	SI,[BP-0x10].B");
	ASM_INLINE("MOV	[BP-0x14].W,0x0008");
	ASM_INLINE("MOV	[BP-0x12].W,0xB9C7");
ASM_INLINE("_8BCF7:");
	ASM_INLINE("INC	[BP-0x14].W");
	ASM_INLINE("LES	BX,[BP-0x14]");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("MOV	AL,ES:[BX].B");
	ASM_INLINE("MOV	[SI].B,AL");
	ASM_INLINE("INC	SI");
	ASM_INLINE("TEST	AL,AL");
	ASM_INLINE("JNZ	_8BCF7");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	BX,0x0060");
	ASM_INLINE("LEA	CX,[BP-0x10].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("LEA	SI,[BP-0x10].B");
	ASM_INLINE("MOV	[BP-0x14].W,0x000C");
	ASM_INLINE("MOV	[BP-0x12].W,0xB9C7");
ASM_INLINE("_8BD2B:");
	ASM_INLINE("INC	[BP-0x14].W");
	ASM_INLINE("LES	BX,[BP-0x14]");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("MOV	AL,ES:[BX].B");
	ASM_INLINE("MOV	[SI].B,AL");
	ASM_INLINE("INC	SI");
	ASM_INLINE("TEST	AL,AL");
	ASM_INLINE("JNZ	_8BD2B");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	BX,0x0068");
	ASM_INLINE("LEA	CX,[BP-0x10].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("LEA	SI,[BP-0x10].B");
	ASM_INLINE("MOV	[BP-0x14].W,0x0000");
	ASM_INLINE("MOV	[BP-0x12].W,0xB9C8");
ASM_INLINE("_8BD5F:");
	ASM_INLINE("INC	[BP-0x14].W");
	ASM_INLINE("LES	BX,[BP-0x14]");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("MOV	AL,ES:[BX].B");
	ASM_INLINE("MOV	[SI].B,AL");
	ASM_INLINE("INC	SI");
	ASM_INLINE("TEST	AL,AL");
	ASM_INLINE("JNZ	_8BD5F");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	BX,0x0070");
	ASM_INLINE("LEA	CX,[BP-0x10].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

static void near unk_8BD8D()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("MOV	DI,0x0014");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	DI");
	ASM_INLINE("CMP	AX,0x0003");
	ASM_INLINE("JNZ	_8BDA3");
	ASM_INLINE("JMP	_8BE27");
ASM_INLINE("_8BDA3:");
	ASM_INLINE("CMP	AX,0x0002");
	ASM_INLINE("JZ	_8BE00");
	ASM_INLINE("CMP	AX,0x0001");
	ASM_INLINE("JZ	_8BDD7");
	ASM_INLINE("TEST	AX,AX");
	ASM_INLINE("JNZ	_8BE27");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	AX,0xB279");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	DX,0x0004");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("JMP	_8BE27");
ASM_INLINE("_8BDD7:");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	AX,0xB494");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("SUB	CX,0x0014");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	DX,0x0004");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("JMP	_8BE27");
ASM_INLINE("_8BE00:");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	AX,0xB6AB");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("SUB	CX,0x0028");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	DX,0x0004");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
ASM_INLINE("_8BE27:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

static void near unk_8BE2C()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("MOV	DI,0x0014");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	DI");
	ASM_INLINE("CMP	AX,0x0003");
	ASM_INLINE("JNZ	_8BE42");
	ASM_INLINE("JMP	_8BEC9");
ASM_INLINE("_8BE42:");
	ASM_INLINE("CMP	AX,0x0002");
	ASM_INLINE("JZ	_8BEA1");
	ASM_INLINE("CMP	AX,0x0001");
	ASM_INLINE("JZ	_8BE77");
	ASM_INLINE("TEST	AX,AX");
	ASM_INLINE("JNZ	_8BEC9");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	AX,0xB279");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("MOV	CX,0x0002");
	ASM_INLINE("MOV	DX,0x0003");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("JMP	_8BEC9");
ASM_INLINE("_8BE77:");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	AX,0xB494");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("SUB	CX,0x0014");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("MOV	CX,0x0002");
	ASM_INLINE("MOV	DX,0x0003");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("JMP	_8BEC9");
ASM_INLINE("_8BEA1:");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	AX,0xB6AB");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("SUB	CX,0x0028");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("MOV	CX,0x0002");
	ASM_INLINE("MOV	DX,0x0003");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
ASM_INLINE("_8BEC9:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

static void near unk_8BECE(u16 val)
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("MOV	DX,AX");
	ASM_INLINE("MOV	SI,0x1E0B");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("SUB	AX,0x0003");
	ASM_INLINE("CMP	AX,0x0000");
	ASM_INLINE("JGE	_8BEEE");
	ASM_INLINE("MOV	AX,0x000C");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,0x0032");
	ASM_INLINE("CALL	unk_8BE2C_");
	ASM_INLINE("JMP	_8BF16");
ASM_INLINE("_8BEEE:");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("SUB	BX,0x0003");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("TEST	[BX].B,0x80");
	ASM_INLINE("JZ	_8BF0A");
	ASM_INLINE("MOV	AX,0x000C");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,DX");
	ASM_INLINE("SUB	CX,0x0003");
	ASM_INLINE("CALL	unk_8BE2C_");
	ASM_INLINE("JMP	_8BF16");
ASM_INLINE("_8BF0A:");
	ASM_INLINE("MOV	AX,0x000C");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,0x0031");
	ASM_INLINE("CALL	unk_8BE2C_");
ASM_INLINE("_8BF16:");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("SUB	AX,0x0002");
	ASM_INLINE("CMP	AX,0x0000");
	ASM_INLINE("JGE	_8BF2E");
	ASM_INLINE("MOV	AX,0x000E");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,0x0032");
	ASM_INLINE("CALL	unk_8BE2C_");
	ASM_INLINE("JMP	_8BF56");
ASM_INLINE("_8BF2E:");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("SUB	BX,0x0002");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("TEST	[BX].B,0x80");
	ASM_INLINE("JZ	_8BF4A");
	ASM_INLINE("MOV	AX,0x000E");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,DX");
	ASM_INLINE("SUB	CX,0x0002");
	ASM_INLINE("CALL	unk_8BE2C_");
	ASM_INLINE("JMP	_8BF56");
ASM_INLINE("_8BF4A:");
	ASM_INLINE("MOV	AX,0x000E");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,0x0031");
	ASM_INLINE("CALL	unk_8BE2C_");
ASM_INLINE("_8BF56:");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("DEC	AX");
	ASM_INLINE("CMP	AX,0x0000");
	ASM_INLINE("JGE	_8BF6C");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,0x0032");
	ASM_INLINE("CALL	unk_8BE2C_");
	ASM_INLINE("JMP	_8BF90");
ASM_INLINE("_8BF6C:");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("TEST	[BX].B,0x80");
	ASM_INLINE("JZ	_8BF84");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,DX");
	ASM_INLINE("DEC	CX");
	ASM_INLINE("CALL	unk_8BE2C_");
	ASM_INLINE("JMP	_8BF90");
ASM_INLINE("_8BF84:");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,0x0031");
	ASM_INLINE("CALL	unk_8BE2C_");
ASM_INLINE("_8BF90:");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("TEST	[BX].B,0x80");
	ASM_INLINE("JZ	_8BFA6");
	ASM_INLINE("MOV	AX,0x0012");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,DX");
	ASM_INLINE("CALL	unk_8BD8D_");
	ASM_INLINE("JMP	_8BFB2");
ASM_INLINE("_8BFA6:");
	ASM_INLINE("MOV	AX,0x0012");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,0x0031");
	ASM_INLINE("CALL	unk_8BD8D_");
ASM_INLINE("_8BFB2:");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("INC	AX");
	ASM_INLINE("CMP	AX,0x0029");
	ASM_INLINE("JLE	_8BFC8");
	ASM_INLINE("MOV	AX,0x0016");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("MOV	CX,0x0032");
	ASM_INLINE("CALL	unk_8BE2C_");
	ASM_INLINE("JMP	_8BFEC");
ASM_INLINE("_8BFC8:");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("INC	BX");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("TEST	[BX].B,0x80");
	ASM_INLINE("JZ	_8BFE0");
	ASM_INLINE("MOV	AX,0x0016");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("MOV	CX,DX");
	ASM_INLINE("INC	CX");
	ASM_INLINE("CALL	unk_8BE2C_");
	ASM_INLINE("JMP	_8BFEC");
ASM_INLINE("_8BFE0:");
	ASM_INLINE("MOV	AX,0x0016");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("MOV	CX,0x0031");
	ASM_INLINE("CALL	unk_8BE2C_");
ASM_INLINE("_8BFEC:");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("ADD	AX,0x0002");
	ASM_INLINE("CMP	AX,0x0029");
	ASM_INLINE("JLE	_8C004");
	ASM_INLINE("MOV	AX,0x0018");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("MOV	CX,0x0032");
	ASM_INLINE("CALL	unk_8BE2C_");
	ASM_INLINE("JMP	_8C02C");
ASM_INLINE("_8C004:");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("ADD	BX,0x0002");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("TEST	[BX].B,0x80");
	ASM_INLINE("JZ	_8C020");
	ASM_INLINE("MOV	AX,0x0018");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("MOV	CX,DX");
	ASM_INLINE("ADD	CX,0x0002");
	ASM_INLINE("CALL	unk_8BE2C_");
	ASM_INLINE("JMP	_8C02C");
ASM_INLINE("_8C020:");
	ASM_INLINE("MOV	AX,0x0018");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("MOV	CX,0x0031");
	ASM_INLINE("CALL	unk_8BE2C_");
ASM_INLINE("_8C02C:");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("ADD	AX,0x0003");
	ASM_INLINE("CMP	AX,0x0029");
	ASM_INLINE("JLE	_8C044");
	ASM_INLINE("MOV	AX,0x001A");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("MOV	CX,0x0032");
	ASM_INLINE("CALL	unk_8BE2C_");
	ASM_INLINE("JMP	_8C06C");
ASM_INLINE("_8C044:");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("ADD	BX,0x0003");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("TEST	[BX].B,0x80");
	ASM_INLINE("JZ	_8C060");
	ASM_INLINE("MOV	AX,0x001A");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("ADD	DX,0x0003");
	ASM_INLINE("MOV	CX,DX");
	ASM_INLINE("CALL	unk_8BE2C_");
	ASM_INLINE("JMP	_8C06C");
ASM_INLINE("_8C060:");
	ASM_INLINE("MOV	AX,0x001A");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("MOV	CX,0x0031");
	ASM_INLINE("CALL	unk_8BE2C_");
ASM_INLINE("_8C06C:");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

static void near unk_8C070(u16 val)
{
	stage_get; //Force include
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0058");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	DI,AX");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("MOV	BX,0x000F");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	BX,0xA751");
	ASM_INLINE("ADD	CX,AX");
	ASM_INLINE("MOV	[BP-0x04].W,CX");
	ASM_INLINE("MOV	[BP-0x02].W,BX");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("CALL	unk_8B67E_");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	BL,ES:[BX].B");
	ASM_INLINE("MOV	[BP-0x13].B,BL");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	BL,ES:[BX+0x01].B");
	ASM_INLINE("MOV	[BP-0x12].B,BL");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	BL,ES:[BX+0x02].B");
	ASM_INLINE("MOV	[BP-0x11].B,BL");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	BL,ES:[BX+0x03].B");
	ASM_INLINE("MOV	[BP-0x10].B,BL");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	BL,ES:[BX+0x04].B");
	ASM_INLINE("MOV	[BP-0x0F].B,BL");
	ASM_INLINE("XOR	SI,SI");
	ASM_INLINE("JMP	_8C0DA");
ASM_INLINE("_8C0CB:");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("ADD	BX,0x0005");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("MOV	BL,ES:[BX].B");
	ASM_INLINE("MOV	-0x0E[BP+SI].B,BL");
	ASM_INLINE("INC	SI");
ASM_INLINE("_8C0DA:");
	ASM_INLINE("CMP	SI,0x0008");
	ASM_INLINE("JL	_8C0CB");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	BL,ES:[BX+0x0D].B");
	ASM_INLINE("MOV	[BP-0x06].B,BL");
	ASM_INLINE("MOV	BL,[0x1E07].B");
	ASM_INLINE("CMP	BL,0x03");
	ASM_INLINE("JNZ	_8C0F5");
	ASM_INLINE("JMP	_8C213");
ASM_INLINE("_8C0F5:");
	ASM_INLINE("CMP	BL,0x02");
	ASM_INLINE("JNZ	_8C0FD");
	ASM_INLINE("JMP	_8C189");
ASM_INLINE("_8C0FD:");
	ASM_INLINE("CMP	BL,0x01");
	ASM_INLINE("JZ	_8C109");
	ASM_INLINE("TEST	BL,BL");
	ASM_INLINE("JZ	_8C109");
	ASM_INLINE("JMP	_8C213");
ASM_INLINE("_8C109:");
	ASM_INLINE("TEST	AX,AX");
	ASM_INLINE("JZ	_8C189");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0xA751");
	ASM_INLINE("MOV	ES,BX");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("MOV	BX,0x000F");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	//ASM_INLINE("MOV	BL,ES:[BX+0x0004].B");
	ASM_OP5(0x26,0x8A,0x9F,0x04,0x00);
	ASM_INLINE("MOV	[BP-0x13].B,BL");
	ASM_INLINE("POP	AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("CALLF	stage_get_, SEG stage_get_");
	ASM_INLINE("MOV	[BP-0x12].B,AL");
	ASM_INLINE("POP	AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("ADD	BX,0x1E3C");
	ASM_INLINE("MOV	BL,[BX+0x02].B");
	ASM_INLINE("MOV	[BP-0x11].B,BL");
	ASM_INLINE("POP	AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("ADD	BX,0x1E3C");
	ASM_INLINE("MOV	BL,[BX+0x03].B");
	ASM_INLINE("MOV	[BP-0x10].B,BL");
	ASM_INLINE("POP	AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("ADD	BX,0x1E3C");
	ASM_INLINE("MOV	BL,[BX+0x04].B");
	ASM_INLINE("MOV	[BP-0x0F].B,BL");
	ASM_INLINE("XOR	SI,SI");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JMP	_8C184");
ASM_INLINE("_8C16C:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("ADD	BX,0x1E3C");
	ASM_INLINE("ADD	BX,0x0005");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("MOV	BL,[BX].B");
	ASM_INLINE("MOV	-0x0E[BP+SI].B,BL");
	ASM_INLINE("INC	SI");
	ASM_INLINE("POP	AX");
ASM_INLINE("_8C184:");
	ASM_INLINE("CMP	SI,0x0008");
	ASM_INLINE("JL	_8C16C");
ASM_INLINE("_8C189:");
	ASM_INLINE("CMP	[0x1E08].B,0x00");
	ASM_INLINE("JNZ	_8C193");
	ASM_INLINE("JMP	_8C213");
ASM_INLINE("_8C193:");
	ASM_INLINE("TEST	AX,AX");
	ASM_INLINE("JZ	_8C213");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0xA751");
	ASM_INLINE("MOV	ES,BX");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("MOV	BX,0x000F");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	//ASM_INLINE("MOV	BL,ES:[BX+0x0004].B");
	ASM_OP5(0x26,0x8A,0x9F,0x04,0x00);
	ASM_INLINE("MOV	[BP-0x13].B,BL");
	ASM_INLINE("POP	AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("CALLF	stage_get_, SEG stage_get_");
	ASM_INLINE("MOV	[BP-0x12].B,AL");
	ASM_INLINE("POP	AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("ADD	BX,0x1E3C");
	ASM_INLINE("MOV	BL,[BX+0x02].B");
	ASM_INLINE("MOV	[BP-0x11].B,BL");
	ASM_INLINE("POP	AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("ADD	BX,0x1E3C");
	ASM_INLINE("MOV	BL,[BX+0x03].B");
	ASM_INLINE("MOV	[BP-0x10].B,BL");
	ASM_INLINE("POP	AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("ADD	BX,0x1E3C");
	ASM_INLINE("MOV	BL,[BX+0x04].B");
	ASM_INLINE("MOV	[BP-0x0F].B,BL");
	ASM_INLINE("XOR	SI,SI");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JMP	_8C20E");
ASM_INLINE("_8C1F6:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("ADD	BX,0x1E3C");
	ASM_INLINE("ADD	BX,0x0005");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("MOV	BL,[BX].B");
	ASM_INLINE("MOV	-0x0E[BP+SI].B,BL");
	ASM_INLINE("INC	SI");
	ASM_INLINE("POP	AX");
ASM_INLINE("_8C20E:");
	ASM_INLINE("CMP	SI,0x0008");
	ASM_INLINE("JL	_8C1F6");
ASM_INLINE("_8C213:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("LEA	SI,[BP-0x33].B");
	ASM_INLINE("MOV	BX,0xA79C");
	ASM_INLINE("MOV	ES,BX");
	ASM_INLINE("MOV	AL,[BP-0x13].B");
	ASM_INLINE("CBW");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	//ASM_INLINE("MOV	CX,ES:[BX+0x0002].W");
	ASM_OP5(0x26,0x8B,0x8F,0x02,0x00);
	//ASM_INLINE("MOV	BX,ES:[BX+0x0004].W");
	ASM_OP5(0x26,0x8B,0x9F,0x04,0x00);
	ASM_INLINE("MOV	[BP-0x37].W,CX");
	ASM_INLINE("MOV	[BP-0x35].W,BX");
ASM_INLINE("_8C236:");
	ASM_INLINE("INC	[BP-0x37].W");
	ASM_INLINE("LES	BX,[BP-0x37]");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("MOV	BL,ES:[BX].B");
	ASM_INLINE("MOV	[SI].B,BL");
	ASM_INLINE("INC	SI");
	ASM_INLINE("TEST	BL,BL");
	ASM_INLINE("JNZ	_8C236");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0028");
	ASM_INLINE("MOV	BX,0x0018");
	ASM_INLINE("LEA	CX,[BP-0x33].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("LEA	SI,[BP-0x33].B");
	ASM_INLINE("MOV	BX,0xB9CC");
	ASM_INLINE("MOV	ES,BX");
	ASM_INLINE("MOV	AL,[BP-0x06].B");
	ASM_INLINE("CBW");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	//ASM_INLINE("MOV	CX,ES:[BX+0x000E].W");
	ASM_OP5(0x26,0x8B,0x8F,0x0E,0x00);
	//ASM_INLINE("MOV	BX,ES:[BX+0x0010].W");
	ASM_OP5(0x26,0x8B,0x9F,0x10,0x00);
	ASM_INLINE("MOV	[BP-0x37].W,CX");
	ASM_INLINE("MOV	[BP-0x35].W,BX");
ASM_INLINE("_8C280:");
	ASM_INLINE("INC	[BP-0x37].W");
	ASM_INLINE("LES	BX,[BP-0x37]");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("MOV	BL,ES:[BX].B");
	ASM_INLINE("MOV	[SI].B,BL");
	ASM_INLINE("INC	SI");
	ASM_INLINE("TEST	BL,BL");
	ASM_INLINE("JNZ	_8C280");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("MOV	BX,0x0020");
	ASM_INLINE("LEA	CX,[BP-0x33].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("LEA	SI,[BP-0x33].B");
	ASM_INLINE("MOV	BX,0xA78E");
	ASM_INLINE("MOV	ES,BX");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	//ASM_INLINE("MOV	CX,ES:[BX+0x000A].W");
	ASM_OP5(0x26,0x8B,0x8F,0x0A,0x00);
	//ASM_INLINE("MOV	BX,ES:[BX+0x000C].W");
	ASM_OP5(0x26,0x8B,0x9F,0x0C,0x00);
	ASM_INLINE("MOV	[BP-0x37].W,CX");
	ASM_INLINE("MOV	[BP-0x35].W,BX");
ASM_INLINE("_8C2C6:");
	ASM_INLINE("INC	[BP-0x37].W");
	ASM_INLINE("LES	BX,[BP-0x37]");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("MOV	BL,ES:[BX].B");
	ASM_INLINE("MOV	[SI].B,BL");
	ASM_INLINE("INC	SI");
	ASM_INLINE("TEST	BL,BL");
	ASM_INLINE("JNZ	_8C2C6");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0028");
	ASM_INLINE("MOV	BX,0x0030");
	ASM_INLINE("LEA	CX,[BP-0x33].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("TEST	[DI+0x1E0B].B,0x80");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JNZ	_8C2F9");
	ASM_INLINE("JMP	_8C3C9");
ASM_INLINE("_8C2F9:");
	ASM_INLINE("LEA	SI,[BP-0x33].B");
	ASM_INLINE("MOV	BX,0xB9CC");
	ASM_INLINE("MOV	ES,BX");
	//ASM_INLINE("MOV	CX,ES:[0x0022].W");
	ASM_OP5(0x26,0x8B,0x0E,0x22,0x00);
	//ASM_INLINE("MOV	BX,ES:[0x0024].W");
	ASM_OP5(0x26,0x8B,0x1E,0x24,0x00);
	ASM_INLINE("MOV	[BP-0x37].W,CX");
	ASM_INLINE("MOV	[BP-0x35].W,BX");
ASM_INLINE("_8C311:");
	ASM_INLINE("INC	[BP-0x37].W");
	ASM_INLINE("LES	BX,[BP-0x37]");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("MOV	BL,ES:[BX].B");
	ASM_INLINE("MOV	[SI].B,BL");
	ASM_INLINE("INC	SI");
	ASM_INLINE("TEST	BL,BL");
	ASM_INLINE("JNZ	_8C311");
	ASM_INLINE("MOV	BL,[0x1E07].B");
	ASM_INLINE("CMP	BL,0x03");
	ASM_INLINE("JNZ	_8C32E");
	ASM_INLINE("JMP	_8C3F1");
ASM_INLINE("_8C32E:");
	ASM_INLINE("CMP	BL,0x02");
	ASM_INLINE("JZ	_8C382");
	ASM_INLINE("CMP	BL,0x01");
	ASM_INLINE("JZ	_8C33F");
	ASM_INLINE("TEST	BL,BL");
	ASM_INLINE("JZ	_8C33F");
	ASM_INLINE("JMP	_8C3F1");
ASM_INLINE("_8C33F:");
	ASM_INLINE("TEST	AX,AX");
	ASM_INLINE("JNZ	_8C346");
	ASM_INLINE("JMP	_8C3F1");
ASM_INLINE("_8C346:");
	ASM_INLINE("LEA	SI,[BP-0x57].B");
	ASM_INLINE("MOV	BX,0xB9CC");
	ASM_INLINE("MOV	ES,BX");
	//ASM_INLINE("MOV	CX,ES:[0x001E].W");
	ASM_OP5(0x26,0x8B,0x0E,0x1E,0x00);
	//ASM_INLINE("MOV	BX,ES:[0x0020].W");
	ASM_OP5(0x26,0x8B,0x1E,0x20,0x00);
	ASM_INLINE("MOV	[BP-0x37].W,CX");
	ASM_INLINE("MOV	[BP-0x35].W,BX");
ASM_INLINE("_8C35E:");
	ASM_INLINE("INC	[BP-0x37].W");
	ASM_INLINE("LES	BX,[BP-0x37]");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("MOV	BL,ES:[BX].B");
	ASM_INLINE("MOV	[SI].B,BL");
	ASM_INLINE("INC	SI");
	ASM_INLINE("TEST	BL,BL");
	ASM_INLINE("JNZ	_8C35E");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("LEA	AX,[BP-0x57].B");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("LEA	AX,[BP-0x33].B");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("CALLF	hsprintf_, SEG hsprintf_");
	ASM_INLINE("ADD	SP,0x0006");
	ASM_INLINE("JMP	_8C3F1");
ASM_INLINE("_8C382:");
	ASM_INLINE("CMP	[0x1E08].B,0x00");
	ASM_INLINE("JZ	_8C3F1");
	ASM_INLINE("TEST	AX,AX");
	ASM_INLINE("JZ	_8C3F1");
	ASM_INLINE("LEA	SI,[BP-0x57].B");
	ASM_INLINE("MOV	BX,0xB9CC");
	ASM_INLINE("MOV	ES,BX");
	//ASM_INLINE("MOV	CX,ES:[0x001E].W");
	ASM_OP5(0x26,0x8B,0x0E,0x1E,0x00);
	//ASM_INLINE("MOV	BX,ES:[0x0020].W");
	ASM_OP5(0x26,0x8B,0x1E,0x20,0x00);
	ASM_INLINE("MOV	[BP-0x37].W,CX");
	ASM_INLINE("MOV	[BP-0x35].W,BX");
ASM_INLINE("_8C3A5:");
	ASM_INLINE("INC	[BP-0x37].W");
	ASM_INLINE("LES	BX,[BP-0x37]");
	ASM_INLINE("DEC	BX");
	ASM_INLINE("MOV	BL,ES:[BX].B");
	ASM_INLINE("MOV	[SI].B,BL");
	ASM_INLINE("INC	SI");
	ASM_INLINE("TEST	BL,BL");
	ASM_INLINE("JNZ	_8C3A5");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("LEA	AX,[BP-0x57].B");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("LEA	AX,[BP-0x33].B");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("CALLF	hsprintf_, SEG hsprintf_");
	ASM_INLINE("ADD	SP,0x0006");
	ASM_INLINE("JMP	_8C3F1");
ASM_INLINE("_8C3C9:");
	ASM_INLINE("LEA	BX,[BP-0x33].B");
	ASM_INLINE("MOV	AX,0xB9CC");
	ASM_INLINE("MOV	ES,AX");
	//ASM_INLINE("MOV	CX,ES:[0x0026].W");
	ASM_OP5(0x26,0x8B,0x0E,0x26,0x00);
	//ASM_INLINE("MOV	AX,ES:[0x0028].W");
	ASM_OP4(0x26,0xA1,0x28,0x00);
	ASM_INLINE("MOV	[BP-0x37].W,CX");
	ASM_INLINE("MOV	[BP-0x35].W,AX");
ASM_INLINE("_8C3E0:");
	ASM_INLINE("INC	[BP-0x37].W");
	ASM_INLINE("LES	SI,[BP-0x37]");
	ASM_INLINE("DEC	SI");
	ASM_INLINE("MOV	AL,ES:[SI].B");
	ASM_INLINE("MOV	[BX].B,AL");
	ASM_INLINE("INC	BX");
	ASM_INLINE("TEST	AL,AL");
	ASM_INLINE("JNZ	_8C3E0");
ASM_INLINE("_8C3F1:");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("MOV	BX,0x0038");
	ASM_INLINE("LEA	CX,[BP-0x33].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("CMP	[BP-0x12].B,0x00");
	ASM_INLINE("JZ	_8C43C");
	ASM_INLINE("MOV	AL,[BP-0x12].B");
	ASM_INLINE("CBW");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x071C");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("LEA	AX,[BP-0x33].B");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("CALLF	hsprintf_, SEG hsprintf_");
	ASM_INLINE("ADD	SP,0x0006");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0028");
	ASM_INLINE("MOV	BX,0x0050");
	ASM_INLINE("LEA	CX,[BP-0x33].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("JMP	_8C453");
ASM_INLINE("_8C43C:");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0028");
	ASM_INLINE("MOV	BX,0x0050");
	ASM_INLINE("MOV	CX,0x0722");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
ASM_INLINE("_8C453:");
	ASM_INLINE("MOV	AL,[BP-0x11].B");
	ASM_INLINE("CBW");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0726");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("LEA	AX,[BP-0x33].B");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("CALLF	hsprintf_, SEG hsprintf_");
	ASM_INLINE("ADD	SP,0x0006");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0028");
	ASM_INLINE("MOV	BX,0x0060");
	ASM_INLINE("LEA	CX,[BP-0x33].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("MOV	AL,[BP-0x10].B");
	ASM_INLINE("CBW");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x072C");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("LEA	AX,[BP-0x33].B");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("CALLF	hsprintf_, SEG hsprintf_");
	ASM_INLINE("ADD	SP,0x0006");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0028");
	ASM_INLINE("MOV	BX,0x0068");
	ASM_INLINE("LEA	CX,[BP-0x33].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("CMP	[BP-0x0F].B,0x00");
	ASM_INLINE("JZ	_8C4DF");
	ASM_INLINE("MOV	AL,[BP-0x0F].B");
	ASM_INLINE("CBW");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0732");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("LEA	AX,[BP-0x33].B");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("CALLF	hsprintf_, SEG hsprintf_");
	ASM_INLINE("ADD	SP,0x0006");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0028");
	ASM_INLINE("MOV	BX,0x0070");
	ASM_INLINE("LEA	CX,[BP-0x33].B");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("JMP	_8C4F6");
ASM_INLINE("_8C4DF:");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0028");
	ASM_INLINE("MOV	BX,0x0070");
	ASM_INLINE("MOV	CX,0x0738");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	bmp_print_, SEG bmp_print_");
	ASM_INLINE("ADD	SP,0x0002");
ASM_INLINE("_8C4F6:");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("XOR	SI,SI");
	ASM_INLINE("JMP	_8C5C9");
ASM_INLINE("_8C4FD:");
	ASM_INLINE("CMP	-0x0E[BP+SI].B,0xFF");
	ASM_INLINE("JZ	_8C57E");
	ASM_INLINE("MOV	AL,-0x0E[BP+SI].B");
	ASM_INLINE("CBW");
	ASM_INLINE("MOV	DI,AX");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xAF36");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("SAR	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,0x0008");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x000A");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("AND	BX,0x0001");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("ADD	AX,0x0010");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0008");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	CX,0x0002");
	ASM_INLINE("MOV	DX,0x0002");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xAF36");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("SAR	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,0x0008");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x000A");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("AND	BX,0x0001");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("ADD	AX,0x0008");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x0008");
	ASM_INLINE("MOV	DX,0x0002");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("JMP	_8C5C8");
ASM_INLINE("_8C57E:");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xB9CF");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("SAR	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,0x0008");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x000A");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("AND	BX,0x0001");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("ADD	AX,0x0008");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x000A");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("AND	BX,0x0001");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("ADD	AX,0x0008");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("SAR	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,0x0008");
	ASM_INLINE("MOV	CX,0x000A");
	ASM_INLINE("MOV	DX,0x0002");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
ASM_INLINE("_8C5C8:");
	ASM_INLINE("INC	SI");
ASM_INLINE("_8C5C9:");
	ASM_INLINE("CMP	SI,0x0008");
	ASM_INLINE("JGE	_8C5D1");
	ASM_INLINE("JMP	_8C4FD");
ASM_INLINE("_8C5D1:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

static void near unk_8C5D9()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AL,[0x1E07].B");
	ASM_INLINE("CMP	AL,0x03");
	ASM_INLINE("JNZ	_8C5E5");
	ASM_INLINE("JMP	_8C69A");
ASM_INLINE("_8C5E5:");
	ASM_INLINE("CMP	AL,0x02");
	ASM_INLINE("JZ	_8C5FA");
	ASM_INLINE("CMP	AL,0x01");
	ASM_INLINE("JNZ	_8C5F0");
	ASM_INLINE("JMP	_8C69A");
ASM_INLINE("_8C5F0:");
	ASM_INLINE("TEST	AL,AL");
	ASM_INLINE("JNZ	_8C5F7");
	ASM_INLINE("JMP	_8C69A");
ASM_INLINE("_8C5F7:");
	ASM_INLINE("JMP	_8C69A");
ASM_INLINE("_8C5FA:");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xB9CF");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0002");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x000B");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0007");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xB9CF");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0009");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0012");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xB9CF");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0012");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x000B");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0007");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xB9CF");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0019");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0013");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
ASM_INLINE("_8C69A:");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

static void near unk_8C69D(u16 val)
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	AL,[0x1E07].B");
	ASM_INLINE("CMP	AL,0x03");
	ASM_INLINE("JNZ	_8C6AC");
	ASM_INLINE("JMP	_8C771");
ASM_INLINE("_8C6AC:");
	ASM_INLINE("CMP	AL,0x02");
	ASM_INLINE("JZ	_8C6C1");
	ASM_INLINE("CMP	AL,0x01");
	ASM_INLINE("JNZ	_8C6B7");
	ASM_INLINE("JMP	_8C771");
ASM_INLINE("_8C6B7:");
	ASM_INLINE("TEST	AL,AL");
	ASM_INLINE("JNZ	_8C6BE");
	ASM_INLINE("JMP	_8C771");
ASM_INLINE("_8C6BE:");
	ASM_INLINE("JMP	_8C771");
ASM_INLINE("_8C6C1:");
	ASM_INLINE("CMP	[SI+0x02].W,0x0002");
	ASM_INLINE("JNZ	_8C6F1");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xB9CF");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0011");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0018");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("JMP	_8C719");
ASM_INLINE("_8C6F1:");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xB9CF");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0011");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0014");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
ASM_INLINE("_8C719:");
	ASM_INLINE("CMP	[SI+0x0A].W,0x0001");
	ASM_INLINE("JNZ	_8C749");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xB9CF");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0011");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0014");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0018");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("JMP	_8C771");
ASM_INLINE("_8C749:");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xB9CF");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0011");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0014");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0014");
	ASM_INLINE("MOV	BX,0x0012");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
ASM_INLINE("_8C771:");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

void unisel_init()
{
	task_delete; //Force include
	memalloc; //Force include
	task_append; //Force include
	ip_clear; //Force include
	nbg_ddf; //Force include
	spr_ddf; //Force include
	bitmap; //Force include
	fade_tone; //Force include
	fade_out; //Force include
	fade_run; //Force include
	fade_in; //Force include
	bgmreq; //Force include
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0016");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	DX,AX");
	ASM_INLINE("CALLF	task_delete_, SEG task_delete_");
	ASM_INLINE("MOV	AX,0x000C");
	ASM_INLINE("CALLF	memalloc_, SEG memalloc_");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("TEST	SI,SI");
	ASM_INLINE("JNZ	_8C797");
	ASM_INLINE("JMP	_8C86C");
ASM_INLINE("_8C797:");
	ASM_INLINE("MOV	AX,unk_8C874_");
	ASM_INLINE("MOV	BX,SEG unk_8C874_");
	ASM_INLINE("MOV	CX,SI");
	ASM_INLINE("CALLF	task_append_, SEG task_append_");
	ASM_INLINE("MOV	[SI].W,DX");
	ASM_INLINE("MOV	[SI+0x02].W,0x0000");
	ASM_INLINE("MOV	[SI+0x04].W,0x0000");
	ASM_INLINE("MOV	[SI+0x06].W,0x0000");
	ASM_INLINE("MOV	[SI+0x08].W,0x0000");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("MOV	[SI+0x0A].W,0x0000");
	ASM_INLINE("CALL	unk_8B5EC_");
	ASM_INLINE("LEA	DI,[BP-0x16].B");
	ASM_INLINE("MOV	SI,unisel_data_");
	ASM_INLINE("MOV	CX,0x0016");
	ASM_INLINE("PUSH	DS");
	ASM_INLINE("POP	ES");
	ASM_INLINE("CLD");
	ASM_INLINE("REP MOVSB");
	ASM_INLINE("LEA	AX,[BP-0x16].B");
	ASM_INLINE("CALLF	ip_clear_, SEG ip_clear_");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("CALLF	nbg_ddf_, SEG nbg_ddf_");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("CALLF	nbg_ddf_, SEG nbg_ddf_");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("CALLF	spr_ddf_, SEG spr_ddf_");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("CALLF	bitmap_, SEG bitmap_");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xB9CF");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("MOV	CX,0x001C");
	ASM_INLINE("MOV	DX,0x0012");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("CALL	unk_8BC45_");
	ASM_INLINE("POP	SI");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("CALL	unk_8C5D9_");
	ASM_INLINE("MOV	AX,[SI+0x04].W");
	ASM_INLINE("CALL	unk_8BECE_");
	ASM_INLINE("MOV	AX,[SI+0x04].W");
	ASM_INLINE("CALL	unk_8C070_");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("CALLF	fade_tone_, SEG fade_tone_");
	ASM_INLINE("MOV	AX,0x0064");
	ASM_INLINE("CALLF	fade_out_, SEG fade_out_");
	ASM_INLINE("CALLF	fade_run_, SEG fade_run_");
	ASM_INLINE("MOV	AX,0x000A");
	ASM_INLINE("CALLF	fade_in_, SEG fade_in_");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	BX,0x0001");
	ASM_INLINE("CALLF	nbg_ddf_, SEG nbg_ddf_");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("MOV	BX,0x0001");
	ASM_INLINE("CALLF	nbg_ddf_, SEG nbg_ddf_");
	ASM_INLINE("MOV	AL,0x02");
	ASM_INLINE("CALLF	bgmreq_, SEG bgmreq_");
ASM_INLINE("_8C86C:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

static void unk_8C874()
{
	sereq; //Force include
	memfree; //Force include
	task_delete_fade; //Force include
	stage_select_init; //Force include
	menu_init; //Force include
	m_game_init; //Force include
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0004");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	AX,[SI].W");
	ASM_INLINE("MOV	AX,[SI+0x02].W");
	ASM_INLINE("CMP	AX,0x0002");
	ASM_INLINE("JNZ	_8C88D");
	ASM_INLINE("JMP	_8CE9C");
ASM_INLINE("_8C88D:");
	ASM_INLINE("CMP	AX,0x0001");
	ASM_INLINE("JNZ	_8C895");
	ASM_INLINE("JMP	_8CC95");
ASM_INLINE("_8C895:");
	ASM_INLINE("TEST	AX,AX");
	ASM_INLINE("JZ	_8C89C");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8C89C:");
	ASM_INLINE("TEST	[0x0956].W,0x0800");
	ASM_INLINE("JZ	_8C8C2");
	ASM_INLINE("MOV	AL,0x0C");
	ASM_INLINE("CALLF	sereq_, SEG sereq_");
	ASM_INLINE("CMP	[SI+0x04].W,0x0000");
	ASM_INLINE("JLE	_8C8E6");
	ASM_INLINE("DEC	[SI+0x04].W");
	ASM_INLINE("MOV	AX,[SI+0x04].W");
	ASM_INLINE("CALL	unk_8BECE_");
	ASM_INLINE("MOV	AX,[SI+0x04].W");
	ASM_INLINE("CALL	unk_8C070_");
	ASM_INLINE("JMP	_8C8E6");
ASM_INLINE("_8C8C2:");
	ASM_INLINE("TEST	[0x0956].W,0x0200");
	ASM_INLINE("JZ	_8C8E6");
	ASM_INLINE("MOV	AL,0x0C");
	ASM_INLINE("CALLF	sereq_, SEG sereq_");
	ASM_INLINE("CMP	[SI+0x04].W,0x0029");
	ASM_INLINE("JGE	_8C8E6");
	ASM_INLINE("INC	[SI+0x04].W");
	ASM_INLINE("MOV	AX,[SI+0x04].W");
	ASM_INLINE("CALL	unk_8BECE_");
	ASM_INLINE("MOV	AX,[SI+0x04].W");
	ASM_INLINE("CALL	unk_8C070_");
ASM_INLINE("_8C8E6:");
	ASM_INLINE("MOV	AL,[0x1E07].B");
	ASM_INLINE("CMP	AL,0x03");
	ASM_INLINE("JNZ	_8C8F0");
	ASM_INLINE("JMP	_8C9B7");
ASM_INLINE("_8C8F0:");
	ASM_INLINE("CMP	AL,0x02");
	ASM_INLINE("JZ	_8C95A");
	ASM_INLINE("CMP	AL,0x01");
	ASM_INLINE("JZ	_8C8FF");
	ASM_INLINE("TEST	AL,AL");
	ASM_INLINE("JZ	_8C8FF");
	ASM_INLINE("JMP	_8C9B7");
ASM_INLINE("_8C8FF:");
	ASM_INLINE("TEST	[0x0956].W,0x0100");
	ASM_INLINE("JNZ	_8C912");
	ASM_INLINE("TEST	[0x0956].W,0x0400");
	ASM_INLINE("JNZ	_8C912");
	ASM_INLINE("JMP	_8C9B7");
ASM_INLINE("_8C912:");
	ASM_INLINE("MOV	[SI+0x02].W,0x0001");
	ASM_INLINE("MOV	[SI+0x08].W,0x0000");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,0x0013");
	ASM_INLINE("MOV	DX,0x000C");
	ASM_INLINE("CALL	unk_8B6D5_");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,0x0013");
	ASM_INLINE("MOV	DX,0x000C");
	ASM_INLINE("CALL	unk_8B99D_");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,[SI+0x06].W");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALL	unk_8B8D1_");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,[SI+0x08].W");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALL	unk_8B92E_");
	ASM_INLINE("JMP	_8C9B7");
ASM_INLINE("_8C95A:");
	ASM_INLINE("CMP	[0x1E08].B,0x00");
	ASM_INLINE("JZ	_8C9B7");
	ASM_INLINE("TEST	[0x0956].W,0x0100");
	ASM_INLINE("JNZ	_8C971");
	ASM_INLINE("TEST	[0x0956].W,0x0400");
	ASM_INLINE("JZ	_8C9B7");
ASM_INLINE("_8C971:");
	ASM_INLINE("MOV	[SI+0x02].W,0x0001");
	ASM_INLINE("MOV	[SI+0x08].W,0x0000");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,0x0013");
	ASM_INLINE("MOV	DX,0x000C");
	ASM_INLINE("CALL	unk_8B6D5_");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,0x0013");
	ASM_INLINE("MOV	DX,0x000C");
	ASM_INLINE("CALL	unk_8B99D_");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,[SI+0x06].W");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALL	unk_8B8D1_");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,[SI+0x08].W");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALL	unk_8B92E_");
ASM_INLINE("_8C9B7:");
	ASM_INLINE("TEST	[0x0956].W,0x0002");
	ASM_INLINE("JNZ	_8C9CA");
	ASM_INLINE("TEST	[0x0956].W,0x0004");
	ASM_INLINE("JNZ	_8C9CA");
	ASM_INLINE("JMP	_8CC43");
ASM_INLINE("_8C9CA:");
	ASM_INLINE("MOV	BX,[SI+0x04].W");
	ASM_INLINE("TEST	[BX+0x1E0B].B,0x80");
	ASM_INLINE("JNZ	_8C9D7");
	ASM_INLINE("JMP	_8CC39");
ASM_INLINE("_8C9D7:");
	ASM_INLINE("MOV	AL,0x0A");
	ASM_INLINE("CALLF	sereq_, SEG sereq_");
	ASM_INLINE("MOV	AL,[0x1E07].B");
	ASM_INLINE("CMP	AL,0x03");
	ASM_INLINE("JNZ	_8C9E8");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8C9E8:");
	ASM_INLINE("CMP	AL,0x02");
	ASM_INLINE("JNZ	_8C9EF");
	ASM_INLINE("JMP	_8CB0A");
ASM_INLINE("_8C9EF:");
	ASM_INLINE("CMP	AL,0x01");
	ASM_INLINE("JZ	_8C9FA");
	ASM_INLINE("TEST	AL,AL");
	ASM_INLINE("JZ	_8C9FA");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8C9FA:");
	ASM_INLINE("MOV	AX,[SI+0x04].W");
	ASM_INLINE("CALL	unk_8B67E_");
	ASM_INLINE("TEST	AX,AX");
	ASM_INLINE("JZ	_8CA0A");
	ASM_INLINE("MOV	[0x1E0A].B,AL");
	ASM_INLINE("JMP	_8CADF");
ASM_INLINE("_8CA0A:");
	ASM_INLINE("CALL	unk_8B6AB_");
	ASM_INLINE("TEST	AX,AX");
	ASM_INLINE("JNZ	_8CA14");
	ASM_INLINE("JMP	_8CA97");
ASM_INLINE("_8CA14:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,[SI+0x04].W");
	ASM_INLINE("MOV	BX,0x000F");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	BX,0xA751");
	ASM_INLINE("ADD	CX,AX");
	ASM_INLINE("MOV	[BP-0x04].W,CX");
	ASM_INLINE("MOV	[BP-0x02].W,BX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	[0x1E0A].B,AL");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	DI,AX");
	ASM_INLINE("ADD	DI,0x1E3C");
	ASM_INLINE("MOV	BX,[SI+0x04].W");
	ASM_INLINE("MOV	[DI].B,BL");
	ASM_INLINE("MOV	[DI+0x01].B,0x00");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	BL,ES:[BX+0x02].B");
	ASM_INLINE("MOV	[DI+0x02].B,BL");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	BL,ES:[BX+0x03].B");
	ASM_INLINE("MOV	[DI+0x03].B,BL");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	BL,ES:[BX+0x04].B");
	ASM_INLINE("MOV	[DI+0x04].B,BL");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("JMP	_8CA7B");
ASM_INLINE("_8CA66:");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("ADD	BX,0x0005");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("MOV	AL,ES:[BX].B");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("ADD	BX,0x0005");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("MOV	[BX].B,AL");
	ASM_INLINE("INC	CX");
ASM_INLINE("_8CA7B:");
	ASM_INLINE("CMP	CX,0x0008");
	ASM_INLINE("JL	_8CA66");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("JMP	_8CA8F");
ASM_INLINE("_8CA84:");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("ADD	BX,0x000D");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("MOV	[BX].B,0x00");
	ASM_INLINE("INC	CX");
ASM_INLINE("_8CA8F:");
	ASM_INLINE("CMP	CX,0x0010");
	ASM_INLINE("JL	_8CA84");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JMP	_8CADF");
ASM_INLINE("_8CA97:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	[SI+0x02].W,0x0001");
	ASM_INLINE("MOV	[SI+0x08].W,0x0000");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,0x0013");
	ASM_INLINE("MOV	DX,0x000C");
	ASM_INLINE("CALL	unk_8B6D5_");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,0x0013");
	ASM_INLINE("MOV	DX,0x000C");
	ASM_INLINE("CALL	unk_8B99D_");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,[SI+0x06].W");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALL	unk_8B8D1_");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,[SI+0x08].W");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALL	unk_8B92E_");
	ASM_INLINE("POP	AX");
ASM_INLINE("_8CADF:");
	ASM_INLINE("TEST	AX,AX");
	ASM_INLINE("JNZ	_8CAE6");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8CAE6:");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("CALLF	memfree_, SEG memfree_");
	ASM_INLINE("CALLF	task_delete_, SEG task_delete_");
	ASM_INLINE("MOV	AX,stage_select_init_");
	ASM_INLINE("MOV	BX,SEG stage_select_init_");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("CALLF	task_append_, SEG task_append_");
	ASM_INLINE("MOV	AX,0x000A");
	ASM_INLINE("CALLF	task_delete_fade_, SEG task_delete_fade_");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8CB0A:");
	ASM_INLINE("CMP	[0x1E08].B,0x00");
	ASM_INLINE("JNZ	_8CB14");
	ASM_INLINE("JMP	_8CBA5");
ASM_INLINE("_8CB14:");
	ASM_INLINE("MOV	AX,[SI+0x04].W");
	ASM_INLINE("CALL	unk_8B67E_");
	ASM_INLINE("TEST	AX,AX");
	ASM_INLINE("JZ	_8CB21");
	ASM_INLINE("JMP	_8CC26");
ASM_INLINE("_8CB21:");
	ASM_INLINE("CALL	unk_8B6D1_");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,[SI+0x04].W");
	ASM_INLINE("MOV	BX,0x000F");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	BX,0xA751");
	ASM_INLINE("ADD	CX,AX");
	ASM_INLINE("MOV	[BP-0x04].W,CX");
	ASM_INLINE("MOV	[BP-0x02].W,BX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	DI,AX");
	ASM_INLINE("ADD	DI,0x1E3C");
	ASM_INLINE("MOV	BX,[SI+0x04].W");
	ASM_INLINE("MOV	[DI].B,BL");
	ASM_INLINE("MOV	[DI+0x01].B,0x00");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	BL,ES:[BX+0x02].B");
	ASM_INLINE("MOV	[DI+0x02].B,BL");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	BL,ES:[BX+0x03].B");
	ASM_INLINE("MOV	[DI+0x03].B,BL");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	BL,ES:[BX+0x04].B");
	ASM_INLINE("MOV	[DI+0x04].B,BL");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("JMP	_8CB88");
ASM_INLINE("_8CB73:");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("ADD	BX,0x0005");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("MOV	AL,ES:[BX].B");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("ADD	BX,0x0005");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("MOV	[BX].B,AL");
	ASM_INLINE("INC	CX");
ASM_INLINE("_8CB88:");
	ASM_INLINE("CMP	CX,0x0008");
	ASM_INLINE("JL	_8CB73");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("JMP	_8CB9C");
ASM_INLINE("_8CB91:");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("ADD	BX,0x000D");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("MOV	[BX].B,0x00");
	ASM_INLINE("INC	CX");
ASM_INLINE("_8CB9C:");
	ASM_INLINE("CMP	CX,0x0010");
	ASM_INLINE("JL	_8CB91");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JMP	_8CC26");
ASM_INLINE("_8CBA5:");
	ASM_INLINE("CALL	unk_8B6D1_");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,[SI+0x04].W");
	ASM_INLINE("MOV	BX,0x000F");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	BX,0xA751");
	ASM_INLINE("ADD	CX,AX");
	ASM_INLINE("MOV	[BP-0x04].W,CX");
	ASM_INLINE("MOV	[BP-0x02].W,BX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	DI,AX");
	ASM_INLINE("ADD	DI,0x1E3C");
	ASM_INLINE("MOV	BX,[SI+0x04].W");
	ASM_INLINE("MOV	[DI].B,BL");
	ASM_INLINE("MOV	[DI+0x01].B,0x00");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	BL,ES:[BX+0x02].B");
	ASM_INLINE("MOV	[DI+0x02].B,BL");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	BL,ES:[BX+0x03].B");
	ASM_INLINE("MOV	[DI+0x03].B,BL");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	BL,ES:[BX+0x04].B");
	ASM_INLINE("MOV	[DI+0x04].B,BL");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("JMP	_8CC0C");
ASM_INLINE("_8CBF7:");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("ADD	BX,0x0005");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("MOV	AL,ES:[BX].B");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("ADD	BX,0x0005");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("MOV	[BX].B,AL");
	ASM_INLINE("INC	CX");
ASM_INLINE("_8CC0C:");
	ASM_INLINE("CMP	CX,0x0008");
	ASM_INLINE("JL	_8CBF7");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("JMP	_8CC20");
ASM_INLINE("_8CC15:");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("ADD	BX,0x000D");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("MOV	[BX].B,0x00");
	ASM_INLINE("INC	CX");
ASM_INLINE("_8CC20:");
	ASM_INLINE("CMP	CX,0x0010");
	ASM_INLINE("JL	_8CC15");
	ASM_INLINE("POP	AX");
ASM_INLINE("_8CC26:");
	ASM_INLINE("MOV	[0x1E0A].B,AL");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("MOV	BX,0x0001");
	ASM_INLINE("CALL	unk_8CEEC_");
	ASM_INLINE("MOV	[SI+0x02].W,0x0002");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8CC39:");
	ASM_INLINE("MOV	AL,0x0B");
	ASM_INLINE("CALLF	sereq_, SEG sereq_");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8CC43:");
	ASM_INLINE("TEST	[0x0956].W,0x0008");
	ASM_INLINE("JNZ	_8CC4E");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8CC4E:");
	ASM_INLINE("MOV	AL,[0x1E07].B");
	ASM_INLINE("CMP	AL,0x03");
	ASM_INLINE("JZ	_8CC6A");
	ASM_INLINE("CMP	AL,0x02");
	ASM_INLINE("JZ	_8CC63");
	ASM_INLINE("CMP	AL,0x01");
	ASM_INLINE("JZ	_8CC6A");
	ASM_INLINE("TEST	AL,AL");
	ASM_INLINE("JZ	_8CC6A");
	ASM_INLINE("JMP	_8CC6A");
ASM_INLINE("_8CC63:");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("CALL	unk_8CEEC_");
ASM_INLINE("_8CC6A:");
	ASM_INLINE("MOV	AL,0x0B");
	ASM_INLINE("CALLF	sereq_, SEG sereq_");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("CALLF	memfree_, SEG memfree_");
	ASM_INLINE("CALLF	task_delete_, SEG task_delete_");
	ASM_INLINE("MOV	AX,menu_init_");
	ASM_INLINE("MOV	BX,SEG menu_init_");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("CALLF	task_append_, SEG task_append_");
	ASM_INLINE("MOV	AX,0x000A");
	ASM_INLINE("CALLF	task_delete_fade_, SEG task_delete_fade_");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8CC95:");
	ASM_INLINE("TEST	[0x0956].W,0x0100");
	ASM_INLINE("JZ	_8CCCC");
	ASM_INLINE("MOV	AL,0x0C");
	ASM_INLINE("CALLF	sereq_, SEG sereq_");
	ASM_INLINE("CMP	[SI+0x06].W,0x0000");
	ASM_INLINE("JLE	_8CD01");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,[SI+0x06].W");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("CALL	unk_8B8D1_");
	ASM_INLINE("DEC	[SI+0x06].W");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,[SI+0x06].W");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALL	unk_8B8D1_");
	ASM_INLINE("JMP	_8CD01");
ASM_INLINE("_8CCCC:");
	ASM_INLINE("TEST	[0x0956].W,0x0400");
	ASM_INLINE("JZ	_8CD01");
	ASM_INLINE("MOV	AL,0x0C");
	ASM_INLINE("CALLF	sereq_, SEG sereq_");
	ASM_INLINE("CMP	[SI+0x06].W,0x0007");
	ASM_INLINE("JGE	_8CD01");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,[SI+0x06].W");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("CALL	unk_8B8D1_");
	ASM_INLINE("INC	[SI+0x06].W");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,[SI+0x06].W");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALL	unk_8B8D1_");
ASM_INLINE("_8CD01:");
	ASM_INLINE("TEST	[0x0956].W,0x0800");
	ASM_INLINE("JZ	_8CD38");
	ASM_INLINE("MOV	AL,0x0C");
	ASM_INLINE("CALLF	sereq_, SEG sereq_");
	ASM_INLINE("CMP	[SI+0x08].W,0x0000");
	ASM_INLINE("JLE	_8CD6D");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,[SI+0x08].W");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("CALL	unk_8B92E_");
	ASM_INLINE("DEC	[SI+0x08].W");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,[SI+0x08].W");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALL	unk_8B92E_");
	ASM_INLINE("JMP	_8CD6D");
ASM_INLINE("_8CD38:");
	ASM_INLINE("TEST	[0x0956].W,0x0200");
	ASM_INLINE("JZ	_8CD6D");
	ASM_INLINE("MOV	AL,0x0C");
	ASM_INLINE("CALLF	sereq_, SEG sereq_");
	ASM_INLINE("CMP	[SI+0x08].W,0x0001");
	ASM_INLINE("JGE	_8CD6D");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,[SI+0x08].W");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("CALL	unk_8B92E_");
	ASM_INLINE("INC	[SI+0x08].W");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,[SI+0x08].W");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALL	unk_8B92E_");
ASM_INLINE("_8CD6D:");
	ASM_INLINE("TEST	[0x0956].W,0x0004");
	ASM_INLINE("JNZ	_8CD78");
	ASM_INLINE("JMP	_8CE50");
ASM_INLINE("_8CD78:");
	ASM_INLINE("MOV	AL,0x0A");
	ASM_INLINE("CALLF	sereq_, SEG sereq_");
	ASM_INLINE("CMP	[SI+0x08].W,0x0000");
	ASM_INLINE("JZ	_8CDC7");
	ASM_INLINE("MOV	AX,[SI+0x06].W");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("ADD	BX,0x001D");
	ASM_INLINE("MOV	[BX+0x1E3C].B,0xFF");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,0x0013");
	ASM_INLINE("MOV	DX,0x000C");
	ASM_INLINE("CALL	unk_8B99D_");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,[SI+0x06].W");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALL	unk_8B8D1_");
	ASM_INLINE("MOV	AX,0x0005");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("MOV	CX,[SI+0x08].W");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALL	unk_8B92E_");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8CDC7:");
	ASM_INLINE("MOV	AL,[0x1E07].B");
	ASM_INLINE("CMP	AL,0x03");
	ASM_INLINE("JNZ	_8CDD1");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8CDD1:");
	ASM_INLINE("CMP	AL,0x02");
	ASM_INLINE("JZ	_8CE22");
	ASM_INLINE("CMP	AL,0x01");
	ASM_INLINE("JZ	_8CDE0");
	ASM_INLINE("TEST	AL,AL");
	ASM_INLINE("JZ	_8CDE0");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8CDE0:");
	ASM_INLINE("MOV	AX,[SI+0x06].W");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("ADD	BX,0x001D");
	ASM_INLINE("CMP	[BX+0x1E3C].B,0xFF");
	ASM_INLINE("JNZ	_8CDF7");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8CDF7:");
	ASM_INLINE("MOV	AX,[SI+0x06].W");
	ASM_INLINE("INC	AX");
	ASM_INLINE("MOV	[0x1E0A].B,AL");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("CALLF	memfree_, SEG memfree_");
	ASM_INLINE("CALLF	task_delete_, SEG task_delete_");
	ASM_INLINE("MOV	AX,stage_select_init_");
	ASM_INLINE("MOV	BX,SEG stage_select_init_");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("CALLF	task_append_, SEG task_append_");
	ASM_INLINE("MOV	AX,0x000A");
	ASM_INLINE("CALLF	task_delete_fade_, SEG task_delete_fade_");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8CE22:");
	ASM_INLINE("MOV	AX,[SI+0x06].W");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("ADD	BX,0x001D");
	ASM_INLINE("CMP	[BX+0x1E3C].B,0xFF");
	ASM_INLINE("JNZ	_8CE39");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8CE39:");
	ASM_INLINE("MOV	AX,[SI+0x06].W");
	ASM_INLINE("INC	AX");
	ASM_INLINE("MOV	[0x1E0A].B,AL");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("MOV	BX,0x0001");
	ASM_INLINE("CALL	unk_8CEEC_");
	ASM_INLINE("MOV	[SI+0x02].W,0x0002");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8CE50:");
	ASM_INLINE("TEST	[0x0956].W,0x0008");
	ASM_INLINE("JNZ	_8CE5B");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8CE5B:");
	ASM_INLINE("MOV	AL,0x0B");
	ASM_INLINE("CALLF	sereq_, SEG sereq_");
	ASM_INLINE("MOV	[SI+0x02].W,0x0000");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xB9CF");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("MOV	CX,0x001C");
	ASM_INLINE("MOV	DX,0x0012");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("CALL	unk_8BC45_");
	ASM_INLINE("MOV	AX,[SI+0x04].W");
	ASM_INLINE("CALL	unk_8BECE_");
	ASM_INLINE("MOV	AX,[SI+0x04].W");
	ASM_INLINE("CALL	unk_8C070_");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8CE9C:");
	ASM_INLINE("TEST	[0x0956].W,0x0008");
	ASM_INLINE("JZ	_8CEB3");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("MOV	BX,0x0002");
	ASM_INLINE("CALL	unk_8CEEC_");
	ASM_INLINE("MOV	[SI+0x02].W,0x0000");
	ASM_INLINE("JMP	_8CEDA");
ASM_INLINE("_8CEB3:");
	ASM_INLINE("CMP	[SI+0x0A].W,0x0000");
	ASM_INLINE("JZ	_8CEDA");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("CALLF	memfree_, SEG memfree_");
	ASM_INLINE("CALLF	task_delete_, SEG task_delete_");
	ASM_INLINE("MOV	AX,m_game_init_");
	ASM_INLINE("MOV	BX,SEG m_game_init_");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("CALLF	task_append_, SEG task_append_");
	ASM_INLINE("MOV	AX,0x000A");
	ASM_INLINE("CALLF	task_delete_fade_, SEG task_delete_fade_");
ASM_INLINE("_8CEDA:");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("CALL	unk_8C69D_");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("CALL	unk_8CF48_");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

static void near unk_8CEEC()
{
	ip_w; //Force include
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0016");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("LEA	DI,[BP-0x16].B");
	ASM_INLINE("MOV	SI,unisel_data2_");
	ASM_INLINE("MOV	CX,0x0016");
	ASM_INLINE("PUSH	DS");
	ASM_INLINE("POP	ES");
	ASM_INLINE("CLD");
	ASM_INLINE("REP MOVSB");
	ASM_INLINE("MOV	[BP-0x12].B,BL");
	ASM_INLINE("CMP	BX,0x0002");
	ASM_INLINE("JZ	_8CF38");
	ASM_INLINE("CMP	BX,0x0001");
	ASM_INLINE("JZ	_8CF17");
	ASM_INLINE("TEST	BX,BX");
	ASM_INLINE("JZ	_8CF38");
	ASM_INLINE("JMP	_8CF38");
ASM_INLINE("_8CF17:");
	ASM_INLINE("MOV	AL,[0x1E0A].B");
	ASM_INLINE("XOR	AH,AH");
	ASM_INLINE("MOV	BX,0x001D");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("ADD	BX,0x1E3C");
	ASM_INLINE("MOV	AL,[BX].B");
	ASM_INLINE("MOV	[BP-0x11].B,AL");
	ASM_INLINE("MOV	AL,[BX+0x02].B");
	ASM_INLINE("MOV	[BP-0x10].B,AL");
	ASM_INLINE("MOV	AL,[BX+0x03].B");
	ASM_INLINE("MOV	[BP-0x0F].B,AL");
ASM_INLINE("_8CF38:");
	ASM_INLINE("LEA	AX,[BP-0x16].B");
	ASM_INLINE("CALLF	ip_w_, SEG ip_w_");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

static void near unk_8CF48(u16 val)
{
	ip_r; //Force include
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0016");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	DX,AX");
	ASM_INLINE("LEA	DI,[BP-0x16].B");
	ASM_INLINE("MOV	SI,unisel_data3_");
	ASM_INLINE("MOV	CX,0x0016");
	ASM_INLINE("PUSH	DS");
	ASM_INLINE("POP	ES");
	ASM_INLINE("CLD");
	ASM_INLINE("REP MOVSB");
	ASM_INLINE("LEA	AX,[BP-0x16].B");
	ASM_INLINE("CALLF	ip_r_, SEG ip_r_");
	ASM_INLINE("TEST	AX,AX");
	ASM_INLINE("JNZ	_8CFCB");
	ASM_INLINE("MOV	AL,[BP-0x12].B");
	ASM_INLINE("CMP	AL,0x02");
	ASM_INLINE("JZ	_8CFC4");
	ASM_INLINE("CMP	AL,0x01");
	ASM_INLINE("JZ	_8CFA7");
	ASM_INLINE("TEST	AL,AL");
	ASM_INLINE("JNZ	_8CFCB");
	ASM_INLINE("MOV	AL,0x0B");
	ASM_INLINE("CALLF	sereq_, SEG sereq_");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("CALLF	memfree_, SEG memfree_");
	ASM_INLINE("CALLF	task_delete_, SEG task_delete_");
	ASM_INLINE("MOV	AX,menu_init_");
	ASM_INLINE("MOV	BX,SEG menu_init_");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("CALLF	task_append_, SEG task_append_");
	ASM_INLINE("MOV	AX,0x000A");
	ASM_INLINE("CALLF	task_delete_fade_, SEG task_delete_fade_");
	ASM_INLINE("JMP	_8CFCB");
ASM_INLINE("_8CFA7:");
	ASM_INLINE("MOV	BX,0x1E3C");
	ASM_INLINE("MOV	AL,[BP-0x11].B");
	ASM_INLINE("MOV	[BX].B,AL");
	ASM_INLINE("MOV	AL,[BP-0x10].B");
	ASM_INLINE("MOV	[BX+0x02].B,AL");
	ASM_INLINE("MOV	AL,[BP-0x0F].B");
	ASM_INLINE("MOV	[BX+0x03].B,AL");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("MOV	[BX+0x0A].W,0x0001");
	ASM_INLINE("JMP	_8CFCB");
ASM_INLINE("_8CFC4:");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("MOV	[BX+0x0A].W,0x0000");
ASM_INLINE("_8CFCB:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}
