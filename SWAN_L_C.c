
#include <machine.h>
#include "types.h"
#include "SWAN_L_C.h"
#include "SYSTEM.h"
#include "ASM.h"

/*1004*/ u16 v_blank_cnt_count;
/*1006*/ u16 v_blank_int_count;
/*1008*/ u16 h_blank_cnt_count;
/*100A*/ u16 sr_count;
/*100C*/ u16 sw_count;
/*100E*/ u16 int_frag;
/*1010*/ vu8 int_enable;

/*0780*/ long state = 1;

int rand()
{
	state = state * 1103515245UL + 12345UL;
	return (((int)(state >> 16)) & 0x7FFF);
}

void srand(unsigned int seed)
{
	state = seed;
}

void font_put2XY()
{
	map_tbl; //Force extern reference
	cel_tbl; //Force extern reference
	font_put2_sub; //Force include
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0012");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	AX,BX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	DX,[BP+0x0C].W");
	ASM_INLINE("MOV	DX,[BP+0x0E].W");
	ASM_INLINE("MOV	DI,DX");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("MOV	DX,[BP+0x0C].W");
	ASM_INLINE("LES	BX,[BP+0x0C]");
	ASM_INLINE("ADD	DX,ES:[BX+0x0E].W");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("OR	CX,DX");
	ASM_INLINE("OR	AX,BX");
	ASM_INLINE("MOV	[BP-0x04].W,CX");
	ASM_INLINE("MOV	[BP-0x02].W,AX");
	ASM_INLINE("MOV	DX,[BP+0x0C].W");
	ASM_INLINE("MOV	DX,[BP+0x0E].W");
	ASM_INLINE("MOV	DI,DX");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("MOV	DX,[BP+0x0C].W");
	ASM_INLINE("LES	BX,[BP+0x0C]");
	ASM_INLINE("ADD	DX,ES:[BX+0x0C].W");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("OR	CX,DX");
	ASM_INLINE("OR	AX,BX");
	ASM_INLINE("MOV	[BP-0x08].W,CX");
	ASM_INLINE("MOV	[BP-0x06].W,AX");
	ASM_INLINE("MOV	DI,[0x00F8].W");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("MOV	BX,[BP+0x0A].W");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	DI,[BX+map_tbl_].W");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("OR	DX,DI");
	ASM_INLINE("OR	CX,BX");
	ASM_INLINE("MOV	[BP-0x0C].W,DX");
	ASM_INLINE("MOV	[BP-0x0A].W,CX");
	ASM_INLINE("MOV	DI,[0x00F8].W");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("MOV	BX,[BP+0x0A].W");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	DI,[BX+cel_tbl_].W");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("OR	DX,DI");
	ASM_INLINE("OR	CX,BX");
	ASM_INLINE("MOV	[BP-0x10].W,DX");
	ASM_INLINE("MOV	[BP-0x0E].W,CX");
	ASM_INLINE("MOV	[BP-0x12].W,0x0000");
	ASM_INLINE("POP	BX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JMP	_91E9A");
ASM_INLINE("_91E12:");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("JMP	_91E92");
ASM_INLINE("_91E17:");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,[BP+0x06].W");
	ASM_INLINE("ADD	AX,BX");
	ASM_INLINE("MOV	DX,[BP+0x08].W");
	ASM_INLINE("ADD	DX,[BP-0x12].W");
	ASM_INLINE("MOV	CL,0x05");
	ASM_INLINE("SHL	DX,CL");
	ASM_INLINE("ADD	AX,DX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("LES	BX,[BP-0x0C]");
	ASM_INLINE("ADD	BX,AX");
	ASM_INLINE("MOV	DI,ES:[BX].W");
	ASM_INLINE("LES	BX,[BP+0x0C]");
	ASM_INLINE("MOV	AX,ES:[BX+0x04].W");
	ASM_INLINE("MOV	CX,0x0008");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	CX");
	ASM_INLINE("MOV	CX,AX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("ADD	AX,[BP-0x12].W");
	ASM_INLINE("MUL	CX");
	ASM_INLINE("MOV	CX,SI");
	ASM_INLINE("POP	BX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("ADD	CX,BX");
	ASM_INLINE("ADD	CX,AX");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("MOV	CX,ES:[BX].W");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,[BP-0x08].W");
	ASM_INLINE("MOV	BX,[BP-0x06].W");
	ASM_INLINE("AND	CX,0x01FF");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	AX,CX");
	ASM_INLINE("MOV	CX,[BP-0x10].W");
	ASM_INLINE("MOV	DX,[BP-0x0E].W");
	ASM_INLINE("AND	DI,0x01FF");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("ADD	CX,DI");
	ASM_INLINE("CALLF	font_put2_sub_, SEG font_put2_sub_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	BX");
	ASM_INLINE("INC	BX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("POP	CX");
ASM_INLINE("_91E92:");
	ASM_INLINE("CMP	BX,CX");
	ASM_INLINE("JL	_91E17");
	ASM_INLINE("INC	[BP-0x12].W");
	ASM_INLINE("POP	BX");
ASM_INLINE("_91E9A:");
	ASM_INLINE("CMP	BX,[BP-0x12].W");
	ASM_INLINE("JLE	_91EA2");
	ASM_INLINE("JMP	_91E12");
ASM_INLINE("_91EA2:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

u16 get_bmp_cell_no()
{
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0008");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	DI,AX");
	ASM_INLINE("MOV	[BP-0x04].W,CX");
	ASM_INLINE("MOV	[BP-0x02].W,DX");
	ASM_INLINE("MOV	AX,[BP-0x04].W");
	ASM_INLINE("MOV	AX,[BP-0x02].W");
	ASM_INLINE("MOV	CX,AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("MOV	DX,[BP-0x04].W");
	ASM_INLINE("LES	SI,[BP-0x04]");
	ASM_INLINE("ADD	DX,ES:[SI+0x0E].W");
	ASM_INLINE("XOR	SI,SI");
	ASM_INLINE("OR	CX,DX");
	ASM_INLINE("OR	AX,SI");
	ASM_INLINE("MOV	[BP-0x08].W,CX");
	ASM_INLINE("MOV	[BP-0x06].W,AX");
	ASM_INLINE("LES	SI,[BP-0x04]");
	ASM_INLINE("MOV	AX,ES:[SI+0x04].W");
	ASM_INLINE("MOV	CX,0x0008");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	CX");
	ASM_INLINE("MOV	CX,AX");
	ASM_INLINE("MOV	AX,BX");
	ASM_INLINE("MUL	CX");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("LES	BX,[BP-0x08]");
	ASM_INLINE("ADD	BX,AX");
	ASM_INLINE("MOV	AX,ES:[BX].W");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

void font_putXY(u16 a, u16 b, u16 c, u16 d, u16 e, u16 f, u16 g, u8 far *gfx)
{
	get_bmp_cell_no; //Force include
	put_cell_no; //Force include
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0002");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	DI,BX");
	ASM_INLINE("MOV	[BP-0x02].W,0x0000");
	ASM_INLINE("JMP	_91F6B");
ASM_INLINE("_91F1E:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("JMP	_91F63");
ASM_INLINE("_91F23:");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,[BP+0x06].W");
	ASM_INLINE("ADD	AX,DX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,[BP+0x08].W");
	ASM_INLINE("ADD	BX,[BP-0x02].W");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	CX,[BP+0x0A].W");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("ADD	AX,DX");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("ADD	BX,[BP-0x02].W");
	ASM_INLINE("MOV	CX,[BP+0x0C].W");
	ASM_INLINE("MOV	DX,[BP+0x0E].W");
	ASM_INLINE("CALLF	get_bmp_cell_no_, SEG get_bmp_cell_no_");
	ASM_INLINE("MOV	DX,AX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("POP	BX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("CALLF	put_cell_no_, SEG put_cell_no_");
	ASM_INLINE("POP	DX");
	ASM_INLINE("INC	DX");
	ASM_INLINE("POP	CX");
ASM_INLINE("_91F63:");
	ASM_INLINE("CMP	DX,CX");
	ASM_INLINE("JL	_91F23");
	ASM_INLINE("INC	[BP-0x02].W");
	ASM_INLINE("POP	DX");
ASM_INLINE("_91F6B:");
	ASM_INLINE("CMP	DX,[BP-0x02].W");
	ASM_INLINE("JG	_91F1E");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

void font_putXYT()
{
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0002");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	DI,BX");
	ASM_INLINE("MOV	[BP-0x02].W,0x0000");
	ASM_INLINE("JMP	_91FE0");
ASM_INLINE("_91F8D:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("JMP	_91FD8");
ASM_INLINE("_91F92:");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,[BP+0x06].W");
	ASM_INLINE("ADD	AX,DX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,[BP+0x08].W");
	ASM_INLINE("ADD	BX,[BP-0x02].W");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	CX,[BP+0x0C].W");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("ADD	AX,DX");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("ADD	BX,[BP-0x02].W");
	ASM_INLINE("MOV	CX,[BP+0x0E].W");
	ASM_INLINE("MOV	DX,[BP+0x10].W");
	ASM_INLINE("CALLF	get_bmp_cell_no_, SEG get_bmp_cell_no_");
	ASM_INLINE("AND	AX,0xF1FF");
	ASM_INLINE("OR	AX,[BP+0x0A].W");
	ASM_INLINE("MOV	DX,AX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("POP	BX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("CALLF	put_cell_no_, SEG put_cell_no_");
	ASM_INLINE("POP	DX");
	ASM_INLINE("INC	DX");
	ASM_INLINE("POP	CX");
ASM_INLINE("_91FD8:");
	ASM_INLINE("CMP	DX,CX");
	ASM_INLINE("JL	_91F92");
	ASM_INLINE("INC	[BP-0x02].W");
	ASM_INLINE("POP	DX");
ASM_INLINE("_91FE0:");
	ASM_INLINE("CMP	DX,[BP-0x02].W");
	ASM_INLINE("JG	_91F8D");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

void font_put2()
{
	map_tbl; //Force extern reference
	cel_tbl; //Force extern reference
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0014");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("MOV	[BP-0x04].W,CX");
	ASM_INLINE("MOV	[BP-0x02].W,DX");
	ASM_INLINE("MOV	AX,[BP-0x04].W");
	ASM_INLINE("MOV	AX,[BP-0x02].W");
	ASM_INLINE("MOV	CX,AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("MOV	DX,[BP-0x04].W");
	ASM_INLINE("LES	SI,[BP-0x04]");
	ASM_INLINE("ADD	DX,ES:[SI+0x0E].W");
	ASM_INLINE("XOR	SI,SI");
	ASM_INLINE("OR	CX,DX");
	ASM_INLINE("OR	AX,SI");
	ASM_INLINE("MOV	[BP-0x08].W,CX");
	ASM_INLINE("MOV	[BP-0x06].W,AX");
	ASM_INLINE("MOV	AX,[BP-0x04].W");
	ASM_INLINE("MOV	AX,[BP-0x02].W");
	ASM_INLINE("MOV	CX,AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("MOV	DX,[BP-0x04].W");
	ASM_INLINE("LES	SI,[BP-0x04]");
	ASM_INLINE("ADD	DX,ES:[SI+0x0C].W");
	ASM_INLINE("XOR	SI,SI");
	ASM_INLINE("OR	CX,DX");
	ASM_INLINE("OR	AX,SI");
	ASM_INLINE("MOV	[BP-0x0C].W,CX");
	ASM_INLINE("MOV	[BP-0x0A].W,AX");
	ASM_INLINE("MOV	CX,[0x00F8].W");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("MOV	SI,BX");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("MOV	SI,[SI+map_tbl_].W");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("OR	CX,SI");
	ASM_INLINE("OR	AX,DX");
	ASM_INLINE("MOV	[BP-0x10].W,CX");
	ASM_INLINE("MOV	[BP-0x0E].W,AX");
	ASM_INLINE("MOV	CX,[0x00F8].W");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	DX,[BX+cel_tbl_].W");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("OR	CX,DX");
	ASM_INLINE("OR	AX,BX");
	ASM_INLINE("MOV	[BP-0x14].W,CX");
	ASM_INLINE("MOV	[BP-0x12].W,AX");
	ASM_INLINE("XOR	SI,SI");
	ASM_INLINE("JMP	_92102");
ASM_INLINE("_92089:");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("JMP	_920F0");
ASM_INLINE("_9208D:");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("MOV	CL,0x05");
	ASM_INLINE("SHL	AX,CL");
	ASM_INLINE("POP	CX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("ADD	AX,CX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("LES	BX,[BP-0x10]");
	ASM_INLINE("ADD	BX,AX");
	ASM_INLINE("MOV	DI,ES:[BX].W");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	AX,ES:[BX+0x04].W");
	ASM_INLINE("MOV	BX,0x0008");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	BX");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("ADD	AX,CX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("LES	BX,[BP-0x08]");
	ASM_INLINE("ADD	BX,AX");
	ASM_INLINE("MOV	DX,ES:[BX].W");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,[BP-0x0C].W");
	ASM_INLINE("MOV	BX,[BP-0x0A].W");
	ASM_INLINE("AND	DX,0x01FF");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("ADD	AX,DX");
	ASM_INLINE("MOV	CX,[BP-0x14].W");
	ASM_INLINE("MOV	DX,[BP-0x12].W");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("ADD	CX,DI");
	ASM_INLINE("CALLF	font_put2_sub_, SEG font_put2_sub_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	CX");
	ASM_INLINE("INC	CX");
ASM_INLINE("_920F0:");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	AX,ES:[BX+0x04].W");
	ASM_INLINE("MOV	BX,0x0008");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	BX");
	ASM_INLINE("CMP	CX,AX");
	ASM_INLINE("JL	_9208D");
	ASM_INLINE("INC	SI");
ASM_INLINE("_92102:");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	AX,ES:[BX+0x06].W");
	ASM_INLINE("MOV	BX,0x0008");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	BX");
	ASM_INLINE("CMP	SI,AX");
	ASM_INLINE("JGE	_92116");
	ASM_INLINE("JMP	_92089");
ASM_INLINE("_92116:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

