#include <machine.h>
#include "types.h"
#include "m_sub.h"
#include "m_game.h"
#include "SERIAL.h"
#include "func_tbl.h"
#include "SWAN_L_C.h"
#include "SWANMAIN.h"
#include "SPRINTF.h"
#include "SYSTEM.h"
#include "SOUND_CODE.h"
#include "MEMORY.h"
#include "PAD.h"
#include "story.h"
#include "IP_MES.h"
#include "PUT_TEXT.h"
#include "m_cpu2p.h"
#include "m_weapon.h"
#include "tuneup.h"
#include "ASM.h"

static const char far str_pause[] = "PAUSE";
static const char far str_exit[] = "EXIT";

static const char far * far str_all[] =
{
    str_pause,
    str_exit,
};

static const u8 far unk_1[] = {5,4};
static const u8 far unk_2[] = {4,6,8,6};
static const u8 far unk_3[] = {4,6,8};

void font_put3()
{
	font_put2_sub; //Force include
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x000C");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	DX,AX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,BX");
	ASM_INLINE("MOV	DI,CX");
	ASM_INLINE("MOV	BX,[BP+0x06].W");
	ASM_INLINE("MOV	BX,[BP+0x08].W");
	ASM_INLINE("MOV	CX,BX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("MOV	CX,CX");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("MOV	SI,[BP+0x06].W");
	ASM_INLINE("LES	BX,[BP+0x06]");
	ASM_INLINE("ADD	SI,ES:[BX+0x0E].W");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("OR	DX,SI");
	ASM_INLINE("OR	CX,BX");
	ASM_INLINE("MOV	[BP-0x04].W,DX");
	ASM_INLINE("MOV	[BP-0x02].W,CX");
	ASM_INLINE("MOV	BX,[BP+0x06].W");
	ASM_INLINE("MOV	BX,[BP+0x08].W");
	ASM_INLINE("MOV	CX,BX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("MOV	CX,CX");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("MOV	SI,[BP+0x06].W");
	ASM_INLINE("LES	BX,[BP+0x06]");
	ASM_INLINE("ADD	SI,ES:[BX+0x0C].W");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("OR	DX,SI");
	ASM_INLINE("OR	CX,BX");
	ASM_INLINE("MOV	[BP-0x08].W,DX");
	ASM_INLINE("MOV	[BP-0x06].W,CX");
	ASM_INLINE("MOV	CX,[0x00F8].W");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("MOV	BX,CX");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("MOV	SI,[0x005E].W");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("OR	CX,SI");
	ASM_INLINE("OR	BX,DX");
	ASM_INLINE("MOV	[BP-0x0C].W,CX");
	ASM_INLINE("MOV	[BP-0x0A].W,BX");
	ASM_INLINE("LES	BX,[BP+0x06]");
	ASM_INLINE("MOV	BX,ES:[BX+0x04].W");
	ASM_INLINE("SAR	BX,1");
	ASM_INLINE("SAR	BX,1");
	ASM_INLINE("SAR	BX,1");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("POP	DX");
	ASM_INLINE("ADD	AX,DX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("ADD	BX,AX");
	ASM_INLINE("MOV	CX,ES:[BX].W");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,[BP-0x08].W");
	ASM_INLINE("MOV	BX,[BP-0x06].W");
	ASM_INLINE("AND	CX,0x01FF");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	AX,CX");
	ASM_INLINE("MOV	CX,[BP-0x0C].W");
	ASM_INLINE("MOV	DX,[BP-0x0A].W");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("ADD	CX,DI");
	ASM_INLINE("CALLF	font_put2_sub_, SEG font_put2_sub_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

void font_putN()
{
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x000C");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	DI,BX");
	ASM_INLINE("MOV	[BP-0x04].W,CX");
	ASM_INLINE("MOV	[BP-0x02].W,DX");
	ASM_INLINE("MOV	AX,[BP-0x04].W");
	ASM_INLINE("MOV	AX,[BP-0x02].W");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	AX,BX");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("MOV	CX,[BP-0x04].W");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("ADD	CX,ES:[BX+0x0C].W");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("OR	DX,CX");
	ASM_INLINE("OR	AX,BX");
	ASM_INLINE("MOV	[BP-0x08].W,DX");
	ASM_INLINE("MOV	[BP-0x06].W,AX");
	ASM_INLINE("MOV	BX,[0x00F8].W");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	AX,BX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("MOV	DX,[0x005E].W");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("OR	BX,DX");
	ASM_INLINE("OR	AX,CX");
	ASM_INLINE("MOV	[BP-0x0C].W,BX");
	ASM_INLINE("MOV	[BP-0x0A].W,AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,[BP-0x08].W");
	ASM_INLINE("MOV	BX,[BP-0x06].W");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("ADD	AX,SI");
	ASM_INLINE("MOV	CX,[BP-0x0C].W");
	ASM_INLINE("MOV	DX,[BP-0x0A].W");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("ADD	CX,DI");
	ASM_INLINE("CALLF	font_put2_sub_, SEG font_put2_sub_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

void put_energy_value()
{
	font_put2XY; //Force include
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("MOV	CX,AX");
	ASM_INLINE("MOV	SI,BX");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xAAA5");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0018");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0038");
	ASM_INLINE("MOV	BX,CX");
	ASM_INLINE("MOV	CX,0x0002");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xAAA5");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x001A");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x003A");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("MOV	CX,0x0002");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

void put_energy_level()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	CX,AX");
	ASM_INLINE("MOV	AX,BX");
	ASM_INLINE("MOV	BX,0x0005");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	BX");
	ASM_INLINE("SUB	AX,0x0004");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	BX,0xAAA5");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	BX,0x0001");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	BX,0x0001");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	BX,0x0014");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	BX,CX");
	ASM_INLINE("MOV	CX,0x0008");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

void put_turn_value()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("MOV	AX,BX");
	ASM_INLINE("MOV	CX,0x0064");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	CX");
	ASM_INLINE("MOV	CX,AX");
	ASM_INLINE("MOV	AX,BX");
	ASM_INLINE("MOV	SI,0x0064");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	SI");
	ASM_INLINE("MOV	SI,DX");
	ASM_INLINE("CMP	BX,0x000A");
	ASM_INLINE("JGE	_86A6B");
	ASM_INLINE("MOV	CX,0x0000");
	ASM_INLINE("MOV	AX,0xAE1E");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0008");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0011");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	CX,0x0003");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("JMP	_86AD1");
ASM_INLINE("_86A6B:");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xAE1E");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0008");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0011");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0003");
	ASM_INLINE("MOV	BX,CX");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("MOV	BX,0x0014");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	BX");
	ASM_INLINE("MOV	CX,AX");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("MOV	BX,0x0014");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	BX");
	ASM_INLINE("MOV	SI,DX");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xAE1E");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0008");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0012");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,0x0004");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("MOV	CX,0x0002");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
ASM_INLINE("_86AD1:");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

void put_turn_level()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	CX,AX");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xAE1E");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0009");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	BX,0x000A");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

void put_hp_level()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("CMP	BX,0x000F");
	ASM_INLINE("JNZ	_86B0E");
	ASM_INLINE("XOR	BX,BX");
ASM_INLINE("_86B0E:");
	ASM_INLINE("TEST	AX,AX");
	ASM_INLINE("JNZ	_86B41");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	AX,0xAEAB");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("SUB	CX,0x0003");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	DX,0x0002");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("JMP	_86B6E");
ASM_INLINE("_86B41:");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	AX,0xAEAB");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x000E");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("SUB	CX,0x0003");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	DX,0x0002");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
ASM_INLINE("_86B6E:");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

void put_function_name()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xAF36");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0006");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0014");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	CX,0x0008");
	ASM_INLINE("MOV	DX,0x0002");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("MOV	AX,0xA711");
	ASM_INLINE("MOV	ES,AX");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("MOV	SI,ES:[BX+0x02].W");
	ASM_INLINE("CMP	SI,0x0009");
	ASM_INLINE("JLE	_86BF2");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xAF36");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0006");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x001A");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("MOV	BX,0x000A");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	BX");
	ASM_INLINE("ADD	AX,0x000C");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0002");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("MOV	BX,0x000A");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	BX");
	ASM_INLINE("MOV	SI,DX");
ASM_INLINE("_86BF2:");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xAF36");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0006");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x001B");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x000C");
	ASM_INLINE("ADD	AX,SI");
	ASM_INLINE("MOV	BX,0x0002");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0002");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

void put_au_big()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	AX,BX");
	ASM_INLINE("MOV	CX,0x0014");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	CX");
	ASM_INLINE("CMP	AX,0x0003");
	ASM_INLINE("JNZ	_86C35");
	ASM_INLINE("JMP	_86D67");
ASM_INLINE("_86C35:");
	ASM_INLINE("CMP	AX,0x0002");
	ASM_INLINE("JNZ	_86C3D");
	ASM_INLINE("JMP	_86D08");
ASM_INLINE("_86C3D:");
	ASM_INLINE("CMP	AX,0x0001");
	ASM_INLINE("JZ	_86CA6");
	ASM_INLINE("TEST	AX,AX");
	ASM_INLINE("JZ	_86C49");
	ASM_INLINE("JMP	_86D67");
ASM_INLINE("_86C49:");
	ASM_INLINE("TEST	SI,SI");
	ASM_INLINE("JZ	_86C7A");
	ASM_INLINE("MOV	CX,0x0000");
	ASM_INLINE("MOV	AX,0xB279");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x000A");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	AX,BX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	DX,0x0004");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("JMP	_86D67");
ASM_INLINE("_86C7A:");
	ASM_INLINE("MOV	CX,0x0000");
	ASM_INLINE("MOV	AX,0xB279");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	AX,BX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	DX,0x0004");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("JMP	_86D67");
ASM_INLINE("_86CA6:");
	ASM_INLINE("TEST	SI,SI");
	ASM_INLINE("JZ	_86CDA");
	ASM_INLINE("MOV	CX,0x0000");
	ASM_INLINE("MOV	AX,0xB494");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x000A");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("SUB	BX,0x0014");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	AX,BX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	DX,0x0004");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("JMP	_86D67");
ASM_INLINE("_86CDA:");
	ASM_INLINE("MOV	CX,0x0000");
	ASM_INLINE("MOV	AX,0xB494");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("SUB	BX,0x0014");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	AX,BX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	DX,0x0004");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("JMP	_86D67");
ASM_INLINE("_86D08:");
	ASM_INLINE("TEST	SI,SI");
	ASM_INLINE("JZ	_86D3B");
	ASM_INLINE("MOV	CX,0x0000");
	ASM_INLINE("MOV	AX,0xB6AB");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x000A");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("SUB	BX,0x0028");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	AX,BX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	DX,0x0004");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("JMP	_86D67");
ASM_INLINE("_86D3B:");
	ASM_INLINE("MOV	CX,0x0000");
	ASM_INLINE("MOV	AX,0xB6AB");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0010");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("SUB	BX,0x0028");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	AX,BX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("MOV	DX,0x0004");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
ASM_INLINE("_86D67:");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

void load_au_small()
{
	font_put3; //Force include
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	CX,AX");
	ASM_INLINE("MOV	SI,BX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("MOV	BX,0x0014");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	BX");
	ASM_INLINE("CMP	AX,0x0003");
	ASM_INLINE("JNZ	_86D83");
	ASM_INLINE("JMP	_86F6B");
ASM_INLINE("_86D83:");
	ASM_INLINE("CMP	AX,0x0002");
	ASM_INLINE("JNZ	_86D8B");
	ASM_INLINE("JMP	_86ED0");
ASM_INLINE("_86D8B:");
	ASM_INLINE("CMP	AX,0x0001");
	ASM_INLINE("JNZ	_86D93");
	ASM_INLINE("JMP	_86E32");
ASM_INLINE("_86D93:");
	ASM_INLINE("TEST	AX,AX");
	ASM_INLINE("JZ	_86D9A");
	ASM_INLINE("JMP	_86F6B");
ASM_INLINE("_86D9A:");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("JMP	_86DDE");
ASM_INLINE("_86D9E:");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_86DD8");
ASM_INLINE("_86DA2:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xB279");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("MOV	CX,0x001C");
	ASM_INLINE("MUL	CX");
	ASM_INLINE("ADD	AX,0x0070");
	ASM_INLINE("MOV	CX,SI");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,DI");
	ASM_INLINE("ADD	CX,AX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("CALLF	font_put3_, SEG font_put3_");
	ASM_INLINE("ADD	SP,0x0004");
	ASM_INLINE("INC	DI");
	ASM_INLINE("POP	CX");
	ASM_INLINE("POP	DX");
ASM_INLINE("_86DD8:");
	ASM_INLINE("CMP	DI,0x0002");
	ASM_INLINE("JL	_86DA2");
	ASM_INLINE("INC	DX");
ASM_INLINE("_86DDE:");
	ASM_INLINE("CMP	DX,0x0003");
	ASM_INLINE("JL	_86D9E");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("JMP	_86E2A");
ASM_INLINE("_86DE7:");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_86E24");
ASM_INLINE("_86DEB:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xB279");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("ADD	AX,0x0002");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("MOV	CX,0x001C");
	ASM_INLINE("MUL	CX");
	ASM_INLINE("ADD	AX,0x00C4");
	ASM_INLINE("MOV	CX,SI");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,DI");
	ASM_INLINE("ADD	CX,AX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("CALLF	font_put3_, SEG font_put3_");
	ASM_INLINE("ADD	SP,0x0004");
	ASM_INLINE("INC	DI");
	ASM_INLINE("POP	CX");
	ASM_INLINE("POP	DX");
ASM_INLINE("_86E24:");
	ASM_INLINE("CMP	DI,0x0002");
	ASM_INLINE("JL	_86DEB");
	ASM_INLINE("INC	DX");
ASM_INLINE("_86E2A:");
	ASM_INLINE("CMP	DX,0x0003");
	ASM_INLINE("JL	_86DE7");
	ASM_INLINE("JMP	_86F6B");
ASM_INLINE("_86E32:");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("JMP	_86E79");
ASM_INLINE("_86E36:");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_86E73");
ASM_INLINE("_86E3A:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xB494");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("SUB	AX,0x0014");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("MOV	CX,0x001C");
	ASM_INLINE("MUL	CX");
	ASM_INLINE("ADD	AX,0x0070");
	ASM_INLINE("MOV	CX,SI");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,DI");
	ASM_INLINE("ADD	CX,AX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("CALLF	font_put3_, SEG font_put3_");
	ASM_INLINE("ADD	SP,0x0004");
	ASM_INLINE("INC	DI");
	ASM_INLINE("POP	CX");
	ASM_INLINE("POP	DX");
ASM_INLINE("_86E73:");
	ASM_INLINE("CMP	DI,0x0002");
	ASM_INLINE("JL	_86E3A");
	ASM_INLINE("INC	DX");
ASM_INLINE("_86E79:");
	ASM_INLINE("CMP	DX,0x0003");
	ASM_INLINE("JL	_86E36");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("JMP	_86EC8");
ASM_INLINE("_86E82:");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_86EC2");
ASM_INLINE("_86E86:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xB494");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("SUB	AX,0x0014");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("ADD	AX,0x0002");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("MOV	DX,0x001C");
	ASM_INLINE("MUL	DX");
	ASM_INLINE("ADD	AX,0x00C4");
	ASM_INLINE("MOV	CX,SI");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,DI");
	ASM_INLINE("ADD	CX,AX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("CALLF	font_put3_, SEG font_put3_");
	ASM_INLINE("ADD	SP,0x0004");
	ASM_INLINE("INC	DI");
	ASM_INLINE("POP	CX");
	ASM_INLINE("POP	DX");
ASM_INLINE("_86EC2:");
	ASM_INLINE("CMP	DI,0x0002");
	ASM_INLINE("JL	_86E86");
	ASM_INLINE("INC	DX");
ASM_INLINE("_86EC8:");
	ASM_INLINE("CMP	DX,0x0003");
	ASM_INLINE("JL	_86E82");
	ASM_INLINE("JMP	_86F6B");
ASM_INLINE("_86ED0:");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("JMP	_86F17");
ASM_INLINE("_86ED4:");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_86F11");
ASM_INLINE("_86ED8:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xB6AB");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("SUB	AX,0x0028");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("MOV	DX,0x001C");
	ASM_INLINE("MUL	DX");
	ASM_INLINE("ADD	AX,0x0070");
	ASM_INLINE("MOV	CX,SI");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,DI");
	ASM_INLINE("ADD	CX,AX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("CALLF	font_put3_, SEG font_put3_");
	ASM_INLINE("ADD	SP,0x0004");
	ASM_INLINE("INC	DI");
	ASM_INLINE("POP	CX");
	ASM_INLINE("POP	DX");
ASM_INLINE("_86F11:");
	ASM_INLINE("CMP	DI,0x0002");
	ASM_INLINE("JL	_86ED8");
	ASM_INLINE("INC	DX");
ASM_INLINE("_86F17:");
	ASM_INLINE("CMP	DX,0x0003");
	ASM_INLINE("JL	_86ED4");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("JMP	_86F66");
ASM_INLINE("_86F20:");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_86F60");
ASM_INLINE("_86F24:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	BX,0x0000");
	ASM_INLINE("MOV	AX,0xB6AB");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("SUB	AX,0x0028");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("ADD	AX,0x0002");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,0x0004");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("MOV	DX,0x001C");
	ASM_INLINE("MUL	DX");
	ASM_INLINE("ADD	AX,0x00C4");
	ASM_INLINE("MOV	CX,SI");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,DI");
	ASM_INLINE("ADD	CX,AX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("CALLF	font_put3_, SEG font_put3_");
	ASM_INLINE("ADD	SP,0x0004");
	ASM_INLINE("INC	DI");
	ASM_INLINE("POP	CX");
	ASM_INLINE("POP	DX");
ASM_INLINE("_86F60:");
	ASM_INLINE("CMP	DI,0x0002");
	ASM_INLINE("JL	_86F24");
	ASM_INLINE("INC	DX");
ASM_INLINE("_86F66:");
	ASM_INLINE("CMP	DX,0x0003");
	ASM_INLINE("JL	_86F20");
ASM_INLINE("_86F6B:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

void put_au_small()
{
	put_sprite; //Force include
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0006");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	DI,BX");
	ASM_INLINE("MOV	[BP-0x02].W,CX");
	ASM_INLINE("MOV	[BP-0x04].W,0x0000");
	ASM_INLINE("JMP	_86FFB");
ASM_INLINE("_86F88:");
	ASM_INLINE("MOV	[BP-0x06].W,0x0000");
	ASM_INLINE("JMP	_86FF2");
ASM_INLINE("_86F8F:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,[BP-0x02].W");
	ASM_INLINE("MOV	BX,0x0006");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("ADD	AX,0x0050");
	ASM_INLINE("MOV	BX,[BP-0x04].W");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,[BP-0x06].W");
	ASM_INLINE("ADD	AX,BX");
	ASM_INLINE("POP	DX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,[BP-0x06].W");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("MOV	CX,[BP-0x04].W");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,DI");
	ASM_INLINE("SUB	CX,0x0007");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("MOV	DX,0x0003");
	ASM_INLINE("MUL	DX");
	ASM_INLINE("ADD	AX,[BP-0x04].W");
	ASM_INLINE("MOV	DX,0x001C");
	ASM_INLINE("MUL	DX");
	ASM_INLINE("ADD	AX,0x0070");
	ASM_INLINE("MOV	DX,[BP-0x02].W");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("ADD	DX,[BP-0x06].W");
	ASM_INLINE("ADD	DX,AX");
	ASM_INLINE("OR	DX,0x2000");
	ASM_INLINE("POP	AX");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("INC	[BP-0x06].W");
	ASM_INLINE("POP	DX");
ASM_INLINE("_86FF2:");
	ASM_INLINE("CMP	[BP-0x06].W,0x0002");
	ASM_INLINE("JL	_86F8F");
	ASM_INLINE("INC	[BP-0x04].W");
ASM_INLINE("_86FFB:");
	ASM_INLINE("CMP	[BP-0x04].W,0x0003");
	ASM_INLINE("JL	_86F88");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

void field_fix()
{
	get_cell_no; //Force include
	put_cell_no; //Force include
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0008");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("JMP	_8704B");
ASM_INLINE("_87017:");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_87045");
ASM_INLINE("_8701B:");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("CALLF	get_cell_no_, SEG get_cell_no_");
	ASM_INLINE("AND	AX,0xF1FF");
	ASM_INLINE("OR	AX,0x0800");
	ASM_INLINE("MOV	SI,DX");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("ADD	SI,DI");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("MOV	-0x08[BP+SI].W,AX");
	ASM_INLINE("INC	DI");
ASM_INLINE("_87045:");
	ASM_INLINE("CMP	DI,0x0002");
	ASM_INLINE("JL	_8701B");
	ASM_INLINE("INC	DX");
ASM_INLINE("_8704B:");
	ASM_INLINE("CMP	DX,0x0002");
	ASM_INLINE("JL	_87017");
	ASM_INLINE("XOR	SI,SI");
	ASM_INLINE("JMP	_870EC");
ASM_INLINE("_87055:");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_870E3");
ASM_INLINE("_8705A:");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,[BP-0x08].W");
	ASM_INLINE("CALLF	put_cell_no_, SEG put_cell_no_");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,0x0008");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,[BP-0x06].W");
	ASM_INLINE("CALLF	put_cell_no_, SEG put_cell_no_");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,0x0008");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,[BP-0x04].W");
	ASM_INLINE("CALLF	put_cell_no_, SEG put_cell_no_");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,0x0008");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,0x0008");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,[BP-0x02].W");
	ASM_INLINE("CALLF	put_cell_no_, SEG put_cell_no_");
	ASM_INLINE("INC	DI");
ASM_INLINE("_870E3:");
	ASM_INLINE("CMP	DI,0x0008");
	ASM_INLINE("JGE	_870EB");
	ASM_INLINE("JMP	_8705A");
ASM_INLINE("_870EB:");
	ASM_INLINE("INC	SI");
ASM_INLINE("_870EC:");
	ASM_INLINE("CMP	SI,0x0008");
	ASM_INLINE("JGE	_870F4");
	ASM_INLINE("JMP	_87055");
ASM_INLINE("_870F4:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

void field_test()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("XOR	SI,SI");
	ASM_INLINE("JMP	_87138");
ASM_INLINE("_87104:");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_87132");
ASM_INLINE("_87108:");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("MOV	DX,0x001C");
	ASM_INLINE("MUL	DX");
	ASM_INLINE("MOV	DX,AX");
	ASM_INLINE("ADD	DX,DI");
	ASM_INLINE("OR	DX,0x0800");
	ASM_INLINE("POP	AX");
	ASM_INLINE("CALLF	put_cell_no_, SEG put_cell_no_");
	ASM_INLINE("INC	DI");
ASM_INLINE("_87132:");
	ASM_INLINE("CMP	DI,0x0010");
	ASM_INLINE("JL	_87108");
	ASM_INLINE("INC	SI");
ASM_INLINE("_87138:");
	ASM_INLINE("CMP	SI,0x0010");
	ASM_INLINE("JL	_87104");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

void wall_space_make()
{
	memalloc; //Force include
	font_putN; //Force include
	get_bmp_cell_no; //Force include
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	AX,0x0060");
	ASM_INLINE("CALLF	memalloc_, SEG memalloc_");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("TEST	SI,SI");
	ASM_INLINE("JNZ	_87157");
	ASM_INLINE("JMP	_871FF");
ASM_INLINE("_87157:");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("JMP	_87184");
ASM_INLINE("_8715B:");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_8717E");
ASM_INLINE("_8715F:");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("MOV	BX,0x001C");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("ADD	AX,0x016C");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("MOV	BX,CX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("MOV	[BX].W,AX");
	ASM_INLINE("INC	DI");
ASM_INLINE("_8717E:");
	ASM_INLINE("CMP	DI,0x0010");
	ASM_INLINE("JL	_8715F");
	ASM_INLINE("INC	CX");
ASM_INLINE("_87184:");
	ASM_INLINE("CMP	CX,0x0003");
	ASM_INLINE("JL	_8715B");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_871A3");
ASM_INLINE("_8718D:");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("MOV	BX,[BX].W");
	ASM_INLINE("MOV	CX,0x0000");
	ASM_INLINE("MOV	DX,0xB1C4");
	ASM_INLINE("CALLF	font_putN_, SEG font_putN_");
	ASM_INLINE("INC	DI");
ASM_INLINE("_871A3:");
	ASM_INLINE("CMP	DI,0x0030");
	ASM_INLINE("JL	_8718D");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_871F3");
ASM_INLINE("_871AC:");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("JMP	_871ED");
ASM_INLINE("_871B0:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x0000");
	ASM_INLINE("MOV	DX,0xB1C4");
	ASM_INLINE("CALLF	get_bmp_cell_no_, SEG get_bmp_cell_no_");
	ASM_INLINE("MOV	DX,AX");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("AND	BX,0x01FF");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("AND	DX,0xC000");
	ASM_INLINE("OR	DX,0x0600");
	ASM_INLINE("OR	DX,[BX].W");
	ASM_INLINE("POP	AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("CALLF	put_cell_no_, SEG put_cell_no_");
	ASM_INLINE("POP	AX");
	ASM_INLINE("INC	AX");
ASM_INLINE("_871ED:");
	ASM_INLINE("CMP	AX,0x0020");
	ASM_INLINE("JL	_871B0");
	ASM_INLINE("INC	DI");
ASM_INLINE("_871F3:");
	ASM_INLINE("CMP	DI,0x0020");
	ASM_INLINE("JL	_871AC");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("CALLF	0x00F1, 0x814D");
ASM_INLINE("_871FF:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

void put_function()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_87243");
ASM_INLINE("_8720E:");
	ASM_INLINE("MOV	BX,[SI].W");
	ASM_INLINE("INC	SI");
	ASM_INLINE("INC	SI");
	ASM_INLINE("CMP	BX,-0x0001");
	ASM_INLINE("JZ	_87242");
	ASM_INLINE("MOV	CX,0x0000");
	ASM_INLINE("MOV	AX,0xAF36");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0002");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,0x0014");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0008");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	CX,0x0002");
	ASM_INLINE("MOV	DX,0x0002");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
ASM_INLINE("_87242:");
	ASM_INLINE("INC	DI");
ASM_INLINE("_87243:");
	ASM_INLINE("CMP	DI,0x0004");
	ASM_INLINE("JL	_8720E");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_87281");
ASM_INLINE("_8724C:");
	ASM_INLINE("MOV	BX,[SI].W");
	ASM_INLINE("INC	SI");
	ASM_INLINE("INC	SI");
	ASM_INLINE("CMP	BX,-0x0001");
	ASM_INLINE("JZ	_87280");
	ASM_INLINE("MOV	CX,0x0000");
	ASM_INLINE("MOV	AX,0xAF36");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,0x0014");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0008");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	CX,0x0002");
	ASM_INLINE("MOV	DX,0x0002");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
ASM_INLINE("_87280:");
	ASM_INLINE("INC	DI");
ASM_INLINE("_87281:");
	ASM_INLINE("CMP	DI,0x0004");
	ASM_INLINE("JL	_8724C");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

void put_function_cousor()
{
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("CMP	[BP+0x08].W,0x0000");
	ASM_INLINE("JZ	_872C6");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	CX,0xAF36");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,0x0002");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,0x0014");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x000A");
	ASM_INLINE("MOV	BX,[BP+0x06].W");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	CX,0x0002");
	ASM_INLINE("MOV	DX,0x0002");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("JMP	_872F4");
ASM_INLINE("_872C6:");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	CX,0xAF36");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,0x0002");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,0x0014");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0008");
	ASM_INLINE("MOV	BX,[BP+0x06].W");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	CX,0x0002");
	ASM_INLINE("MOV	DX,0x0002");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
ASM_INLINE("_872F4:");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("POP	BP");
}
static void near unk_872F8()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	SI,BX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("SHR	AX,1");
	ASM_INLINE("SHR	AX,1");
	ASM_INLINE("SHR	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("MOV	BX,0x001C");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("MOV	DI,CX");
	ASM_INLINE("AND	DI,0x0007");
	ASM_INLINE("SHL	DI,1");
	ASM_INLINE("ADD	DI,AX");
	ASM_INLINE("AND	CX,0xFE00");
	ASM_INLINE("OR	DI,CX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,DI");
	ASM_INLINE("CALLF	put_cell_no_, SEG put_cell_no_");
	ASM_INLINE("POP	AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,0x0008");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,DI");
	ASM_INLINE("INC	DX");
	ASM_INLINE("CALLF	put_cell_no_, SEG put_cell_no_");
	ASM_INLINE("POP	AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,0x0008");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,DI");
	ASM_INLINE("ADD	DX,0x001C");
	ASM_INLINE("CALLF	put_cell_no_, SEG put_cell_no_");
	ASM_INLINE("POP	AX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,0x0008");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("ADD	SI,0x0008");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("ADD	DI,0x001D");
	ASM_INLINE("MOV	DX,DI");
	ASM_INLINE("CALLF	put_cell_no_, SEG put_cell_no_");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

static void near unk_873AD()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	AX,BX");
	ASM_INLINE("MOV	DI,CX");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,AX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	SI,0x00B4");
	ASM_INLINE("ADD	SI,BX");
	ASM_INLINE("MOV	BL,[SI].B");
	ASM_INLINE("MOV	CL,0x05");
	ASM_INLINE("SHR	BL,CL");
	ASM_INLINE("TEST	BL,BL");
	ASM_INLINE("JZ	_87445");
	ASM_INLINE("CMP	BL,0x01");
	ASM_INLINE("JZ	_8743A");
	ASM_INLINE("CMP	BL,0x02");
	ASM_INLINE("JZ	_8742F");
	ASM_INLINE("CMP	BL,0x03");
	ASM_INLINE("JZ	_87424");
	ASM_INLINE("CMP	BL,0x04");
	ASM_INLINE("JZ	_87419");
	ASM_INLINE("CMP	BL,0x05");
	ASM_INLINE("JZ	_8740E");
	ASM_INLINE("CMP	BL,0x06");
	ASM_INLINE("JZ	_87403");
	ASM_INLINE("CMP	BL,0x07");
	ASM_INLINE("JZ	_873F8");
	ASM_INLINE("JMP	_874DA");
ASM_INLINE("_873F8:");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x0007");
	ASM_INLINE("CALL	unk_872F8_");
	ASM_INLINE("JMP	_874DA");
ASM_INLINE("_87403:");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x0006");
	ASM_INLINE("CALL	unk_872F8_");
	ASM_INLINE("JMP	_874DA");
ASM_INLINE("_8740E:");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x0005");
	ASM_INLINE("CALL	unk_872F8_");
	ASM_INLINE("JMP	_874DA");
ASM_INLINE("_87419:");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("CALL	unk_872F8_");
	ASM_INLINE("JMP	_874DA");
ASM_INLINE("_87424:");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x0008");
	ASM_INLINE("CALL	unk_872F8_");
	ASM_INLINE("JMP	_874DA");
ASM_INLINE("_8742F:");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x0009");
	ASM_INLINE("CALL	unk_872F8_");
	ASM_INLINE("JMP	_874DA");
ASM_INLINE("_8743A:");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x0002");
	ASM_INLINE("CALL	unk_872F8_");
	ASM_INLINE("JMP	_874DA");
ASM_INLINE("_87445:");
	ASM_INLINE("MOV	BL,[SI].B");
	ASM_INLINE("SHR	BL,1");
	ASM_INLINE("SHR	BL,1");
	ASM_INLINE("SHR	BL,1");
	ASM_INLINE("TEST	BL,BL");
	ASM_INLINE("JZ	_8747E");
	ASM_INLINE("CMP	BL,0x01");
	ASM_INLINE("JZ	_87474");
	ASM_INLINE("CMP	BL,0x02");
	ASM_INLINE("JZ	_8746A");
	ASM_INLINE("CMP	BL,0x03");
	ASM_INLINE("JNZ	_874DA");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x080A");
	ASM_INLINE("CALL	unk_872F8_");
	ASM_INLINE("JMP	_874DA");
ASM_INLINE("_8746A:");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x080B");
	ASM_INLINE("CALL	unk_872F8_");
	ASM_INLINE("JMP	_874DA");
ASM_INLINE("_87474:");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x080D");
	ASM_INLINE("CALL	unk_872F8_");
	ASM_INLINE("JMP	_874DA");
ASM_INLINE("_8747E:");
	ASM_INLINE("MOV	BL,[SI].B");
	ASM_INLINE("SHR	BL,1");
	ASM_INLINE("TEST	BL,BL");
	ASM_INLINE("JZ	_874B3");
	ASM_INLINE("CMP	BL,0x01");
	ASM_INLINE("JZ	_874A9");
	ASM_INLINE("CMP	BL,0x02");
	ASM_INLINE("JZ	_8749F");
	ASM_INLINE("CMP	BL,0x03");
	ASM_INLINE("JNZ	_874DA");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("CALL	unk_872F8_");
	ASM_INLINE("JMP	_874DA");
ASM_INLINE("_8749F:");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x0002");
	ASM_INLINE("CALL	unk_872F8_");
	ASM_INLINE("JMP	_874DA");
ASM_INLINE("_874A9:");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x0003");
	ASM_INLINE("CALL	unk_872F8_");
	ASM_INLINE("JMP	_874DA");
ASM_INLINE("_874B3:");
	ASM_INLINE("MOV	BL,[SI].B");
	ASM_INLINE("TEST	BL,BL");
	ASM_INLINE("JZ	_874D2");
	ASM_INLINE("CMP	BL,0x01");
	ASM_INLINE("JZ	_874C8");
	ASM_INLINE("CMP	BL,0x02");
	ASM_INLINE("JZ	_874C8");
	ASM_INLINE("CMP	BL,0x03");
	ASM_INLINE("JNZ	_874DA");
ASM_INLINE("_874C8:");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x0002");
	ASM_INLINE("CALL	unk_872F8_");
	ASM_INLINE("JMP	_874DA");
ASM_INLINE("_874D2:");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x0800");
	ASM_INLINE("CALL	unk_872F8_");
ASM_INLINE("_874DA:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	CX");
}

static void near unk_874DE()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	DI,DX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,BX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	SI,0x00B4");
	ASM_INLINE("ADD	SI,AX");
	ASM_INLINE("INC	SI");
	ASM_INLINE("MOV	AL,[SI].B");
	ASM_INLINE("AND	AL,0x7F");
	ASM_INLINE("XOR	AH,AH");
	ASM_INLINE("AND	DI,0x01FF");
	ASM_INLINE("CMP	DI,0x0004");
	ASM_INLINE("JNB	_8753A");
	ASM_INLINE("TEST	[SI].B,0x80");
	ASM_INLINE("JZ	_8753A");
	ASM_INLINE("CMP	AX,0x000A");
	ASM_INLINE("JGE	_87524");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("MOV	DX,0x0014");
	ASM_INLINE("MUL	DX");
	ASM_INLINE("MOV	DI,AX");
	ASM_INLINE("ADD	DI,0x0010");
	ASM_INLINE("POP	AX");
	ASM_INLINE("ADD	DI,AX");
	ASM_INLINE("JMP	_8753A");
ASM_INLINE("_87524:");
	ASM_INLINE("MOV	SI,0x000A");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	SI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("MOV	DX,0x0014");
	ASM_INLINE("MUL	DX");
	ASM_INLINE("MOV	DI,AX");
	ASM_INLINE("ADD	DI,0x001A");
	ASM_INLINE("ADD	DI,SI");
ASM_INLINE("_8753A:");
	ASM_INLINE("MOV	DX,0x0000");
	ASM_INLINE("MOV	AX,0xACE5");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0008");
	ASM_INLINE("ADD	AX,CX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0014");
	ASM_INLINE("ADD	AX,BX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("AND	AX,0x000F");
	ASM_INLINE("SHR	DI,1");
	ASM_INLINE("SHR	DI,1");
	ASM_INLINE("SHR	DI,1");
	ASM_INLINE("SHR	DI,1");
	ASM_INLINE("ADD	DI,0x000A");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	font_put2XY_, SEG font_put2XY_");
	ASM_INLINE("ADD	SP,0x000A");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

static void near unk_87577()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	DI,CX");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,BX");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("ADD	SI,0x00B4");
	ASM_INLINE("ADD	SI,CX");
	ASM_INLINE("MOV	DL,[SI].B");
	ASM_INLINE("MOV	CL,0x05");
	ASM_INLINE("SHR	DL,CL");
	ASM_INLINE("TEST	DL,DL");
	ASM_INLINE("JZ	_8760E");
	ASM_INLINE("CMP	DL,0x01");
	ASM_INLINE("JZ	_87603");
	ASM_INLINE("CMP	DL,0x02");
	ASM_INLINE("JZ	_875F8");
	ASM_INLINE("CMP	DL,0x03");
	ASM_INLINE("JZ	_875ED");
	ASM_INLINE("CMP	DL,0x04");
	ASM_INLINE("JZ	_875E2");
	ASM_INLINE("CMP	DL,0x05");
	ASM_INLINE("JZ	_875D7");
	ASM_INLINE("CMP	DL,0x06");
	ASM_INLINE("JZ	_875CC");
	ASM_INLINE("CMP	DL,0x07");
	ASM_INLINE("JZ	_875C1");
	ASM_INLINE("JMP	_876A2");
ASM_INLINE("_875C1:");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("MOV	DX,0x0007");
	ASM_INLINE("CALL	unk_874DE_");
	ASM_INLINE("JMP	_876A2");
ASM_INLINE("_875CC:");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("MOV	DX,0x0006");
	ASM_INLINE("CALL	unk_874DE_");
	ASM_INLINE("JMP	_876A2");
ASM_INLINE("_875D7:");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("MOV	DX,0x0005");
	ASM_INLINE("CALL	unk_874DE_");
	ASM_INLINE("JMP	_876A2");
ASM_INLINE("_875E2:");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("MOV	DX,0x0004");
	ASM_INLINE("CALL	unk_874DE_");
	ASM_INLINE("JMP	_876A2");
ASM_INLINE("_875ED:");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("MOV	DX,0x0008");
	ASM_INLINE("CALL	unk_874DE_");
	ASM_INLINE("JMP	_876A2");
ASM_INLINE("_875F8:");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("MOV	DX,0x0009");
	ASM_INLINE("CALL	unk_874DE_");
	ASM_INLINE("JMP	_876A2");
ASM_INLINE("_87603:");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("MOV	DX,0x0002");
	ASM_INLINE("CALL	unk_874DE_");
	ASM_INLINE("JMP	_876A2");
ASM_INLINE("_8760E:");
	ASM_INLINE("MOV	CL,[SI].B");
	ASM_INLINE("SHR	CL,1");
	ASM_INLINE("SHR	CL,1");
	ASM_INLINE("SHR	CL,1");
	ASM_INLINE("TEST	CL,CL");
	ASM_INLINE("JZ	_87647");
	ASM_INLINE("CMP	CL,0x01");
	ASM_INLINE("JZ	_8763D");
	ASM_INLINE("CMP	CL,0x02");
	ASM_INLINE("JZ	_87633");
	ASM_INLINE("CMP	CL,0x03");
	ASM_INLINE("JNZ	_876A2");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("MOV	DX,0x000A");
	ASM_INLINE("CALL	unk_874DE_");
	ASM_INLINE("JMP	_876A2");
ASM_INLINE("_87633:");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("MOV	DX,0x000B");
	ASM_INLINE("CALL	unk_874DE_");
	ASM_INLINE("JMP	_876A2");
ASM_INLINE("_8763D:");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("MOV	DX,0x000D");
	ASM_INLINE("CALL	unk_874DE_");
	ASM_INLINE("JMP	_876A2");
ASM_INLINE("_87647:");
	ASM_INLINE("MOV	CL,[SI].B");
	ASM_INLINE("SHR	CL,1");
	ASM_INLINE("TEST	CL,CL");
	ASM_INLINE("JZ	_8767C");
	ASM_INLINE("CMP	CL,0x01");
	ASM_INLINE("JZ	_87672");
	ASM_INLINE("CMP	CL,0x02");
	ASM_INLINE("JZ	_87668");
	ASM_INLINE("CMP	CL,0x03");
	ASM_INLINE("JNZ	_876A2");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALL	unk_874DE_");
	ASM_INLINE("JMP	_876A2");
ASM_INLINE("_87668:");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("MOV	DX,0x0002");
	ASM_INLINE("CALL	unk_874DE_");
	ASM_INLINE("JMP	_876A2");
ASM_INLINE("_87672:");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("MOV	DX,0x0003");
	ASM_INLINE("CALL	unk_874DE_");
	ASM_INLINE("JMP	_876A2");
ASM_INLINE("_8767C:");
	ASM_INLINE("MOV	CL,[SI].B");
	ASM_INLINE("TEST	CL,CL");
	ASM_INLINE("JZ	_8769B");
	ASM_INLINE("CMP	CL,0x01");
	ASM_INLINE("JZ	_87691");
	ASM_INLINE("CMP	CL,0x02");
	ASM_INLINE("JZ	_87691");
	ASM_INLINE("CMP	CL,0x03");
	ASM_INLINE("JNZ	_876A2");
ASM_INLINE("_87691:");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("MOV	DX,0x0002");
	ASM_INLINE("CALL	unk_874DE_");
	ASM_INLINE("JMP	_876A2");
ASM_INLINE("_8769B:");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("CALL	unk_874DE_");
ASM_INLINE("_876A2:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

void put_rader_cousor()
{
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	DI,AX");
	ASM_INLINE("MOV	SI,BX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,SI");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("ADD	BX,0x00B4");
	ASM_INLINE("ADD	BX,AX");
	ASM_INLINE("CMP	DX,-0x0001");
	ASM_INLINE("JZ	_876E0");
	ASM_INLINE("CMP	[BP+0x06].W,0x0000");
	ASM_INLINE("JZ	_876D3");
	ASM_INLINE("OR	[BX].B,DL");
	ASM_INLINE("JMP	_876D9");
ASM_INLINE("_876D3:");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("NOT	AX");
	ASM_INLINE("AND	[BX].B,AL");
ASM_INLINE("_876D9:");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("CALL	unk_873AD_");
ASM_INLINE("_876E0:");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("CALL	unk_87577_");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	BP");
}

void put_lange_cousor()
{
	put_rader_cousor; //Force include
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0004");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	DI,BX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("MOV	CX,0xA215");
	ASM_INLINE("MOV	ES,CX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	//ASM_INLINE("MOV	CX,ES:[BX+0x0004].W");
	ASM_OP5(0x26,0x8B,0x8F,0x04,0x00);
	//ASM_INLINE("MOV	BX,ES:[BX+0x0006].W");
	ASM_OP5(0x26,0x8B,0x9F,0x06,0x00);
	ASM_INLINE("MOV	[BP-0x04].W,CX");
	ASM_INLINE("MOV	[BP-0x02].W,BX");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("JMP	_87764");
ASM_INLINE("_8771A:");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("JMP	_8775E");
ASM_INLINE("_8771E:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	CX,DX");
	ASM_INLINE("SUB	CX,AX");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,0x0070");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("SUB	CX,DI");
	ASM_INLINE("ADD	CX,0x0007");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("CMP	ES:[BX].B,0x00");
	ASM_INLINE("POP	CX");
	ASM_INLINE("JZ	_8775C");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	[BP+0x06].W");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("MOV	BX,CX");
	ASM_INLINE("MOV	CX,DX");
	ASM_INLINE("MOV	DX,0x0001");
	ASM_INLINE("CALLF	put_rader_cousor_, SEG put_rader_cousor_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
ASM_INLINE("_8775C:");
	ASM_INLINE("INC	CX");
	ASM_INLINE("POP	AX");
ASM_INLINE("_8775E:");
	ASM_INLINE("CMP	CX,0x0008");
	ASM_INLINE("JL	_8771E");
	ASM_INLINE("INC	DX");
ASM_INLINE("_87764:");
	ASM_INLINE("CMP	DX,0x0008");
	ASM_INLINE("JL	_8771A");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

void put_atack_cousor()
{
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0004");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	DI,AX");
	ASM_INLINE("MOV	SI,BX");
	ASM_INLINE("MOV	BX,CX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("MOV	AX,0xA217");
	ASM_INLINE("MOV	ES,AX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	//ASM_INLINE("MOV	AX,ES:[BX+0x0008].W");
	ASM_OP5(0x26,0x8B,0x87,0x08,0x00);
	//ASM_INLINE("MOV	CX,ES:[BX+0x000A].W");
	ASM_OP5(0x26,0x8B,0x8F,0x0A,0x00);
	ASM_INLINE("MOV	[BP-0x04].W,AX");
	ASM_INLINE("MOV	[BP-0x02].W,CX");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("POP	BX");
	ASM_INLINE("JMP	_8781B");
ASM_INLINE("_877A2:");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("JMP	_87815");
ASM_INLINE("_877A6:");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("SUB	AX,BX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,0x0070");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("ADD	BX,AX");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("SUB	AX,SI");
	ASM_INLINE("ADD	AX,0x0007");
	ASM_INLINE("ADD	BX,AX");
	ASM_INLINE("MOV	AL,ES:[BX].B");
	ASM_INLINE("CMP	AL,0x03");
	ASM_INLINE("JZ	_877FF");
	ASM_INLINE("CMP	AL,0x02");
	ASM_INLINE("JZ	_877E9");
	ASM_INLINE("CMP	AL,0x01");
	ASM_INLINE("JNZ	_87813");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	[BP+0x06].W");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("MOV	DX,0x0006");
	ASM_INLINE("CALLF	put_rader_cousor_, SEG put_rader_cousor_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	DX");
	ASM_INLINE("JMP	_87813");
ASM_INLINE("_877E9:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	[BP+0x06].W");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("MOV	DX,0x0004");
	ASM_INLINE("CALLF	put_rader_cousor_, SEG put_rader_cousor_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	DX");
	ASM_INLINE("JMP	_87813");
ASM_INLINE("_877FF:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	[BP+0x06].W");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("MOV	DX,0x0002");
	ASM_INLINE("CALLF	put_rader_cousor_, SEG put_rader_cousor_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	DX");
ASM_INLINE("_87813:");
	ASM_INLINE("INC	DX");
	ASM_INLINE("POP	BX");
ASM_INLINE("_87815:");
	ASM_INLINE("CMP	DX,0x0008");
	ASM_INLINE("JL	_877A6");
	ASM_INLINE("INC	CX");
ASM_INLINE("_8781B:");
	ASM_INLINE("CMP	CX,0x0008");
	ASM_INLINE("JL	_877A2");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

void put_atack_cousorON()
{
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0004");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	DI,AX");
	ASM_INLINE("MOV	SI,BX");
	ASM_INLINE("MOV	BX,CX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("MOV	AX,0xA217");
	ASM_INLINE("MOV	ES,AX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	//ASM_INLINE("MOV	AX,ES:[BX+0x0008].W");
	ASM_OP5(0x26,0x8B,0x87,0x08,0x00);
	//ASM_INLINE("MOV	CX,ES:[BX+0x000A].W");
	ASM_OP5(0x26,0x8B,0x8F,0x0A,0x00);
	ASM_INLINE("MOV	[BP-0x04].W,AX");
	ASM_INLINE("MOV	[BP-0x02].W,CX");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("POP	BX");
	ASM_INLINE("JMP	_878D2");
ASM_INLINE("_87859:");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("JMP	_878CC");
ASM_INLINE("_8785D:");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("SUB	AX,BX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,0x0070");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("ADD	BX,AX");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("SUB	AX,SI");
	ASM_INLINE("ADD	AX,0x0007");
	ASM_INLINE("ADD	BX,AX");
	ASM_INLINE("MOV	AL,ES:[BX].B");
	ASM_INLINE("CMP	AL,0x03");
	ASM_INLINE("JZ	_878B6");
	ASM_INLINE("CMP	AL,0x02");
	ASM_INLINE("JZ	_878A0");
	ASM_INLINE("CMP	AL,0x01");
	ASM_INLINE("JNZ	_878CA");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	[BP+0x06].W");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("MOV	DX,0x0018");
	ASM_INLINE("CALLF	put_rader_cousor_, SEG put_rader_cousor_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	DX");
	ASM_INLINE("JMP	_878CA");
ASM_INLINE("_878A0:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	[BP+0x06].W");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("MOV	DX,0x0010");
	ASM_INLINE("CALLF	put_rader_cousor_, SEG put_rader_cousor_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	DX");
	ASM_INLINE("JMP	_878CA");
ASM_INLINE("_878B6:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	[BP+0x06].W");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("MOV	DX,0x0008");
	ASM_INLINE("CALLF	put_rader_cousor_, SEG put_rader_cousor_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	DX");
ASM_INLINE("_878CA:");
	ASM_INLINE("INC	DX");
	ASM_INLINE("POP	BX");
ASM_INLINE("_878CC:");
	ASM_INLINE("CMP	DX,0x0008");
	ASM_INLINE("JL	_8785D");
	ASM_INLINE("INC	CX");
ASM_INLINE("_878D2:");
	ASM_INLINE("CMP	CX,0x0008");
	ASM_INLINE("JL	_87859");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

void put_move_cousor()
{
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,BX");
	ASM_INLINE("MOV	DI,CX");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("JMP	_87974");
ASM_INLINE("_878F1:");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("CMP	DX,SI");
	ASM_INLINE("JGE	_87911");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	[BP+0x06].W");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("MOV	CX,DX");
	ASM_INLINE("INC	CX");
	ASM_INLINE("SUB	BX,CX");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("MOV	DX,0x0080");
	ASM_INLINE("CALLF	put_rader_cousor_, SEG put_rader_cousor_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	AX");
	ASM_INLINE("POP	DX");
ASM_INLINE("_87911:");
	ASM_INLINE("MOV	CX,0x0007");
	ASM_INLINE("SUB	CX,DX");
	ASM_INLINE("CMP	SI,CX");
	ASM_INLINE("JGE	_87933");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	[BP+0x06].W");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("INC	BX");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("MOV	DX,0x00A0");
	ASM_INLINE("CALLF	put_rader_cousor_, SEG put_rader_cousor_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	AX");
	ASM_INLINE("POP	DX");
ASM_INLINE("_87933:");
	ASM_INLINE("CMP	DX,DI");
	ASM_INLINE("JGE	_87950");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	[BP+0x06].W");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("INC	DX");
	ASM_INLINE("SUB	CX,DX");
	ASM_INLINE("MOV	DX,0x00C0");
	ASM_INLINE("CALLF	put_rader_cousor_, SEG put_rader_cousor_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	AX");
	ASM_INLINE("POP	DX");
ASM_INLINE("_87950:");
	ASM_INLINE("MOV	CX,0x0007");
	ASM_INLINE("SUB	CX,DX");
	ASM_INLINE("CMP	DI,CX");
	ASM_INLINE("JGE	_87972");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	[BP+0x06].W");
	ASM_INLINE("MOV	BX,SI");
	ASM_INLINE("MOV	CX,DX");
	ASM_INLINE("INC	CX");
	ASM_INLINE("ADD	CX,DI");
	ASM_INLINE("MOV	DX,0x00E0");
	ASM_INLINE("CALLF	put_rader_cousor_, SEG put_rader_cousor_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	AX");
	ASM_INLINE("POP	DX");
ASM_INLINE("_87972:");
	ASM_INLINE("INC	DX");
	ASM_INLINE("POP	BX");
ASM_INLINE("_87974:");
	ASM_INLINE("CMP	DX,BX");
	ASM_INLINE("JGE	_8797B");
	ASM_INLINE("JMP	_878F1");
ASM_INLINE("_8797B:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("POP	BP");
}

void put_search_cousor()
{
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0006");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	DI,BX");
	ASM_INLINE("MOV	BX,CX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	BX,DX");
	ASM_INLINE("MOV	AX,0xA219");
	ASM_INLINE("MOV	ES,AX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	//ASM_INLINE("MOV	AX,ES:[BX+0x000C].W");
	ASM_OP5(0x26,0x8B,0x87,0x0C,0x00);
	//ASM_INLINE("MOV	CX,ES:[BX+0x000E].W");
	ASM_OP5(0x26,0x8B,0x8F,0x0E,0x00);
	ASM_INLINE("MOV	[BP-0x04].W,AX");
	ASM_INLINE("MOV	[BP-0x02].W,CX");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("POP	BX");
	ASM_INLINE("JMP	_87A02");
ASM_INLINE("_879B2:");
	ASM_INLINE("MOV	[BP-0x06].W,0x0000");
	ASM_INLINE("JMP	_879FB");
ASM_INLINE("_879B9:");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,CX");
	ASM_INLINE("SUB	AX,BX");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	AX,0x0070");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("ADD	BX,AX");
	ASM_INLINE("MOV	AX,[BP-0x06].W");
	ASM_INLINE("SUB	AX,DI");
	ASM_INLINE("ADD	AX,0x0007");
	ASM_INLINE("ADD	BX,AX");
	ASM_INLINE("MOV	DL,ES:[BX].B");
	ASM_INLINE("MOV	CL,0x05");
	ASM_INLINE("SHL	DL,CL");
	ASM_INLINE("TEST	DL,DL");
	ASM_INLINE("POP	CX");
	ASM_INLINE("JZ	_879F7");
	ASM_INLINE("PUSH	[BP+0x06].W");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("MOV	BX,[BP-0x06].W");
	ASM_INLINE("XOR	DH,DH");
	ASM_INLINE("CALLF	put_rader_cousor_, SEG put_rader_cousor_");
	ASM_INLINE("ADD	SP,0x0002");
ASM_INLINE("_879F7:");
	ASM_INLINE("INC	[BP-0x06].W");
	ASM_INLINE("POP	BX");
ASM_INLINE("_879FB:");
	ASM_INLINE("CMP	[BP-0x06].W,0x0008");
	ASM_INLINE("JL	_879B9");
	ASM_INLINE("INC	CX");
ASM_INLINE("_87A02:");
	ASM_INLINE("CMP	CX,0x0008");
	ASM_INLINE("JL	_879B2");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

void get_lange_test()
{
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0004");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	DI,AX");
	ASM_INLINE("MOV	SI,BX");
	ASM_INLINE("MOV	AX,0xA215");
	ASM_INLINE("MOV	ES,AX");
	ASM_INLINE("MOV	BX,[BP+0x06].W");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	//ASM_INLINE("MOV	AX,ES:[BX+0x0004].W");
	ASM_OP5(0x26,0x8B,0x87,0x04,0x00);
	//ASM_INLINE("MOV	BX,ES:[BX+0x0006].W");
	ASM_OP5(0x26,0x8B,0x9F,0x06,0x00);
	ASM_INLINE("MOV	[BP-0x04].W,AX");
	ASM_INLINE("MOV	[BP-0x02].W,BX");
	ASM_INLINE("SUB	DX,SI");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("ADD	DX,0x0070");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("SUB	CX,DI");
	ASM_INLINE("ADD	CX,0x0007");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("CMP	ES:[BX].B,0x00");
	ASM_INLINE("JZ	_87A5C");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("JMP	_87A5F");
ASM_INLINE("_87A5C:");
	ASM_INLINE("MOV	AX,0xFFFF");
ASM_INLINE("_87A5F:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

void put_search_hit_check()
{
	rand; //Force include
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0008");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	DI,AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	SI,0x0000");
	ASM_INLINE("MOV	AX,0xA711");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("ADD	SI,DX");
	ASM_INLINE("MOV	[BP-0x04].W,SI");
	ASM_INLINE("MOV	[BP-0x02].W,AX");
	ASM_INLINE("LES	SI,[BP-0x04]");
	ASM_INLINE("MOV	SI,ES:[SI+0x06].W");
	ASM_INLINE("AND	SI,0x00FF");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("MOV	DX,0xA219");
	ASM_INLINE("MOV	ES,DX");
	//ASM_INLINE("MOV	AX,ES:[SI+0x000C].W");
	ASM_OP5(0x26,0x8B,0x84,0x0C,0x00);
	//ASM_INLINE("MOV	DX,ES:[SI+0x000E].W");
	ASM_OP5(0x26,0x8B,0x94,0x0E,0x00);
	ASM_INLINE("MOV	[BP-0x08].W,AX");
	ASM_INLINE("MOV	[BP-0x06].W,DX");
	ASM_INLINE("XOR	SI,SI");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JMP	_87B1C");
ASM_INLINE("_87AB4:");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("JMP	_87B16");
ASM_INLINE("_87AB8:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("SUB	DX,BX");
	ASM_INLINE("ADD	DX,0x0007");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("SUB	AX,CX");
	ASM_INLINE("ADD	AX,0x0007");
	ASM_INLINE("LES	SI,[BP-0x08]");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	SI,AX");
	ASM_INLINE("ADD	SI,DX");
	ASM_INLINE("CMP	ES:[SI].B,0x00");
	ASM_INLINE("POP	AX");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("JZ	_87B15");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AL,[DI+0x016F].B");
	ASM_INLINE("XOR	AH,AH");
	ASM_INLINE("CMP	DX,AX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JNZ	_87AFA");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AL,[DI+0x0170].B");
	ASM_INLINE("XOR	AH,AH");
	ASM_INLINE("CMP	SI,AX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JNZ	_87AFA");
	ASM_INLINE("OR	AX,0x0010");
ASM_INLINE("_87AFA:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AL,[DI+0x0172].B");
	ASM_INLINE("XOR	AH,AH");
	ASM_INLINE("CMP	DX,AX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JNZ	_87B15");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AL,[DI+0x0173].B");
	ASM_INLINE("XOR	AH,AH");
	ASM_INLINE("CMP	SI,AX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JNZ	_87B15");
	ASM_INLINE("OR	AX,0x0008");
ASM_INLINE("_87B15:");
	ASM_INLINE("INC	DX");
ASM_INLINE("_87B16:");
	ASM_INLINE("CMP	DX,0x0008");
	ASM_INLINE("JL	_87AB8");
	ASM_INLINE("INC	SI");
ASM_INLINE("_87B1C:");
	ASM_INLINE("CMP	SI,0x0008");
	ASM_INLINE("JL	_87AB4");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("JMP	_87BC7");
ASM_INLINE("_87B26:");
	ASM_INLINE("XOR	SI,SI");
	ASM_INLINE("JMP	_87BBE");
ASM_INLINE("_87B2B:");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	DI,SI");
	ASM_INLINE("SUB	DI,BX");
	ASM_INLINE("ADD	DI,0x0007");
	ASM_INLINE("SUB	DX,CX");
	ASM_INLINE("ADD	DX,0x0007");
	ASM_INLINE("LES	SI,[BP-0x08]");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("ADD	SI,DX");
	ASM_INLINE("ADD	SI,DI");
	ASM_INLINE("CMP	ES:[SI].B,0x00");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	SI");
	ASM_INLINE("JZ	_87BBD");
	ASM_INLINE("CMP	SI,[BP+0x06].W");
	ASM_INLINE("JNZ	_87BBD");
	ASM_INLINE("CMP	DX,[BP+0x08].W");
	ASM_INLINE("JNZ	_87BBD");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	BX,ES:[BX+0x08].W");
	ASM_INLINE("AND	BX,0x0003");
	ASM_INLINE("CMP	BX,0x0003");
	ASM_INLINE("JZ	_87B87");
	ASM_INLINE("CMP	BX,0x0002");
	ASM_INLINE("JZ	_87B82");
	ASM_INLINE("CMP	BX,0x0001");
	ASM_INLINE("JZ	_87B7D");
	ASM_INLINE("TEST	BX,BX");
	ASM_INLINE("JNZ	_87BAD");
	ASM_INLINE("OR	AX,0x0000");
	ASM_INLINE("JMP	_87BAD");
ASM_INLINE("_87B7D:");
	ASM_INLINE("OR	AX,0x0001");
	ASM_INLINE("JMP	_87BAD");
ASM_INLINE("_87B82:");
	ASM_INLINE("OR	AX,0x0002");
	ASM_INLINE("JMP	_87BAD");
ASM_INLINE("_87B87:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("CALLF	rand_, SEG rand_");
	ASM_INLINE("AND	AX,0x0007");
	ASM_INLINE("CMP	AX,0x0000");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JG	_87B9B");
	ASM_INLINE("OR	AX,0x0001");
	ASM_INLINE("JMP	_87BAD");
ASM_INLINE("_87B9B:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("CALLF	rand_, SEG rand_");
	ASM_INLINE("AND	AX,0x0007");
	ASM_INLINE("CMP	AX,0x0002");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JG	_87BAD");
	ASM_INLINE("OR	AX,0x0002");
ASM_INLINE("_87BAD:");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("TEST	ES:[BX+0x08].W,0x0004");
	ASM_INLINE("JZ	_87BCF");
	ASM_INLINE("OR	AX,0x0004");
	ASM_INLINE("JMP	_87BCF");
ASM_INLINE("_87BBD:");
	ASM_INLINE("INC	SI");
ASM_INLINE("_87BBE:");
	ASM_INLINE("CMP	SI,0x0008");
	ASM_INLINE("JGE	_87BC6");
	ASM_INLINE("JMP	_87B2B");
ASM_INLINE("_87BC6:");
	ASM_INLINE("INC	DX");
ASM_INLINE("_87BC7:");
	ASM_INLINE("CMP	DX,0x0008");
	ASM_INLINE("JGE	_87BCF");
	ASM_INLINE("JMP	_87B26");
ASM_INLINE("_87BCF:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

void put_atack_hit_check()
{
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0008");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	DI,AX");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	SI,0x0000");
	ASM_INLINE("MOV	AX,0xA711");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("ADD	SI,DX");
	ASM_INLINE("MOV	[BP-0x04].W,SI");
	ASM_INLINE("MOV	[BP-0x02].W,AX");
	ASM_INLINE("LES	SI,[BP-0x04]");
	ASM_INLINE("MOV	SI,ES:[SI+0x06].W");
	ASM_INLINE("AND	SI,0x00FF");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("MOV	DX,0xA217");
	ASM_INLINE("MOV	ES,DX");
	//ASM_INLINE("MOV	AX,ES:[SI+0x0008].W");
	ASM_OP5(0x26,0x8B,0x84,0x08,0x00);
	//ASM_INLINE("MOV	DX,ES:[SI+0x000A].W");
	ASM_OP5(0x26,0x8B,0x94,0x0A,0x00);
	ASM_INLINE("MOV	[BP-0x08].W,AX");
	ASM_INLINE("MOV	[BP-0x06].W,DX");
	ASM_INLINE("XOR	SI,SI");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JMP	_87C8B");
ASM_INLINE("_87C23:");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("JMP	_87C85");
ASM_INLINE("_87C27:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("SUB	DX,BX");
	ASM_INLINE("ADD	DX,0x0007");
	ASM_INLINE("MOV	AX,SI");
	ASM_INLINE("SUB	AX,CX");
	ASM_INLINE("ADD	AX,0x0007");
	ASM_INLINE("LES	SI,[BP-0x08]");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("SHL	AX,1");
	ASM_INLINE("ADD	SI,AX");
	ASM_INLINE("ADD	SI,DX");
	ASM_INLINE("CMP	ES:[SI].B,0x00");
	ASM_INLINE("POP	AX");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("JZ	_87C84");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AL,[DI+0x016F].B");
	ASM_INLINE("XOR	AH,AH");
	ASM_INLINE("CMP	DX,AX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JNZ	_87C69");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AL,[DI+0x0170].B");
	ASM_INLINE("XOR	AH,AH");
	ASM_INLINE("CMP	SI,AX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JNZ	_87C69");
	ASM_INLINE("OR	AX,0x0010");
ASM_INLINE("_87C69:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AL,[DI+0x0172].B");
	ASM_INLINE("XOR	AH,AH");
	ASM_INLINE("CMP	DX,AX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JNZ	_87C84");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AL,[DI+0x0173].B");
	ASM_INLINE("XOR	AH,AH");
	ASM_INLINE("CMP	SI,AX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JNZ	_87C84");
	ASM_INLINE("OR	AX,0x0008");
ASM_INLINE("_87C84:");
	ASM_INLINE("INC	DX");
ASM_INLINE("_87C85:");
	ASM_INLINE("CMP	DX,0x0008");
	ASM_INLINE("JL	_87C27");
	ASM_INLINE("INC	SI");
ASM_INLINE("_87C8B:");
	ASM_INLINE("CMP	SI,0x0008");
	ASM_INLINE("JL	_87C23");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("JMP	_87D36");
ASM_INLINE("_87C95:");
	ASM_INLINE("XOR	SI,SI");
	ASM_INLINE("JMP	_87D2D");
ASM_INLINE("_87C9A:");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	DI,SI");
	ASM_INLINE("SUB	DI,BX");
	ASM_INLINE("ADD	DI,0x0007");
	ASM_INLINE("SUB	DX,CX");
	ASM_INLINE("ADD	DX,0x0007");
	ASM_INLINE("LES	SI,[BP-0x08]");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("ADD	SI,DX");
	ASM_INLINE("ADD	SI,DI");
	ASM_INLINE("CMP	ES:[SI].B,0x00");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	SI");
	ASM_INLINE("JZ	_87D2C");
	ASM_INLINE("CMP	SI,[BP+0x06].W");
	ASM_INLINE("JNZ	_87D2C");
	ASM_INLINE("CMP	DX,[BP+0x08].W");
	ASM_INLINE("JNZ	_87D2C");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	BX,ES:[BX+0x08].W");
	ASM_INLINE("AND	BX,0x0003");
	ASM_INLINE("CMP	BX,0x0003");
	ASM_INLINE("JZ	_87CF6");
	ASM_INLINE("CMP	BX,0x0002");
	ASM_INLINE("JZ	_87CF1");
	ASM_INLINE("CMP	BX,0x0001");
	ASM_INLINE("JZ	_87CEC");
	ASM_INLINE("TEST	BX,BX");
	ASM_INLINE("JNZ	_87D1C");
	ASM_INLINE("OR	AX,0x0000");
	ASM_INLINE("JMP	_87D1C");
ASM_INLINE("_87CEC:");
	ASM_INLINE("OR	AX,0x0001");
	ASM_INLINE("JMP	_87D1C");
ASM_INLINE("_87CF1:");
	ASM_INLINE("OR	AX,0x0002");
	ASM_INLINE("JMP	_87D1C");
ASM_INLINE("_87CF6:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("CALLF	rand_, SEG rand_");
	ASM_INLINE("AND	AX,0x0007");
	ASM_INLINE("CMP	AX,0x0000");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JG	_87D0A");
	ASM_INLINE("OR	AX,0x0001");
	ASM_INLINE("JMP	_87D1C");
ASM_INLINE("_87D0A:");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("CALLF	rand_, SEG rand_");
	ASM_INLINE("AND	AX,0x0007");
	ASM_INLINE("CMP	AX,0x0002");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JG	_87D1C");
	ASM_INLINE("OR	AX,0x0002");
ASM_INLINE("_87D1C:");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("TEST	ES:[BX+0x08].W,0x0004");
	ASM_INLINE("JZ	_87D3E");
	ASM_INLINE("OR	AX,0x0004");
	ASM_INLINE("JMP	_87D3E");
ASM_INLINE("_87D2C:");
	ASM_INLINE("INC	SI");
ASM_INLINE("_87D2D:");
	ASM_INLINE("CMP	SI,0x0008");
	ASM_INLINE("JGE	_87D35");
	ASM_INLINE("JMP	_87C9A");
ASM_INLINE("_87D35:");
	ASM_INLINE("INC	DX");
ASM_INLINE("_87D36:");
	ASM_INLINE("CMP	DX,0x0008");
	ASM_INLINE("JGE	_87D3E");
	ASM_INLINE("JMP	_87C95");
ASM_INLINE("_87D3E:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

void set_effect_task()
{
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("ADD	SI,0x013B");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("JMP	_87D78");
ASM_INLINE("_87D53:");
	ASM_INLINE("CMP	[SI+0x04].W,0x0000");
	ASM_INLINE("JGE	_87D74");
	ASM_INLINE("MOV	[SI+0x02].W,DX");
	ASM_INLINE("MOV	[SI+0x04].W,0x0000");
	ASM_INLINE("MOV	[SI+0x06].W,0xFFFF");
	ASM_INLINE("MOV	[SI+0x08].W,BX");
	ASM_INLINE("MOV	[SI+0x0A].W,CX");
	ASM_INLINE("MOV	AX,[BP+0x06].W");
	ASM_INLINE("MOV	[SI+0x0E].W,AX");
	ASM_INLINE("JMP	_87D7D");
ASM_INLINE("_87D74:");
	ASM_INLINE("INC	AX");
	ASM_INLINE("ADD	SI,0x0010");
ASM_INLINE("_87D78:");
	ASM_INLINE("CMP	AX,0x0003");
	ASM_INLINE("JL	_87D53");
ASM_INLINE("_87D7D:");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	BP");
}

void run_effect_task()
{
	put_atack_cousorON; //Force include
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0008");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	DI,AX");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("ADD	BX,0x013B");
	ASM_INLINE("MOV	AX,0xFFFF");
	ASM_INLINE("MOV	CX,0xFFFF");
	ASM_INLINE("MOV	[BP-0x02].W,0x0000");
	ASM_INLINE("JMP	_87DB0");
ASM_INLINE("_87D9F:");
	ASM_INLINE("CMP	AX,[BX+0x04].W");
	ASM_INLINE("JGE	_87DAA");
	ASM_INLINE("MOV	AX,[BX+0x04].W");
	ASM_INLINE("MOV	CX,[BP-0x02].W");
ASM_INLINE("_87DAA:");
	ASM_INLINE("INC	[BP-0x02].W");
	ASM_INLINE("ADD	BX,0x0010");
ASM_INLINE("_87DB0:");
	ASM_INLINE("CMP	[BP-0x02].W,0x0003");
	ASM_INLINE("JL	_87D9F");
	ASM_INLINE("CMP	CX,-0x0001");
	ASM_INLINE("JNZ	_87DBE");
	ASM_INLINE("JMP	_87F8D");
ASM_INLINE("_87DBE:");
	ASM_INLINE("MOV	SI,DI");
	ASM_INLINE("ADD	SI,0x013B");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	SI,CX");
	ASM_INLINE("CMP	[SI+0x04].W,0x0000");
	ASM_INLINE("JGE	_87DD7");
	ASM_INLINE("JMP	_87F8D");
ASM_INLINE("_87DD7:");
	ASM_INLINE("CMP	[SI+0x06].W,-0x0001");
	ASM_INLINE("JNZ	_87DF9");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("MOV	BX,[SI+0x08].W");
	ASM_INLINE("MOV	CX,[SI+0x0A].W");
	ASM_INLINE("MOV	DX,[SI+0x0E].W");
	ASM_INLINE("CALLF	put_atack_cousorON_, SEG put_atack_cousorON_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("MOV	[SI+0x06].W,0x0000");
ASM_INLINE("_87DF9:");
	ASM_INLINE("MOV	AX,[SI+0x02].W");
	ASM_INLINE("MOV	BX,0x000C");
	ASM_INLINE("MUL	BX");
	ASM_INLINE("ADD	AX,0x0600");
	ASM_INLINE("MOV	[BP-0x06].W,AX");
	ASM_INLINE("MOV	[BP-0x04].W,DS");
	ASM_INLINE("MOV	AX,[SI+0x04].W");
	ASM_INLINE("LES	BX,[BP-0x06]");
	ASM_INLINE("CMP	AX,ES:[BX+0x06].W");
	ASM_INLINE("JL	_87E19");
	ASM_INLINE("JMP	_87F48");
ASM_INLINE("_87E19:");
	ASM_INLINE("DEC	[SI+0x06].W");
	ASM_INLINE("CMP	[SI+0x06].W,0x0000");
	ASM_INLINE("JLE	_87E25");
	ASM_INLINE("JMP	_87F8D");
ASM_INLINE("_87E25:");
	ASM_INLINE("MOV	[SI+0x06].W,0x0005");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_87F2F");
ASM_INLINE("_87E2F:");
	ASM_INLINE("MOV	[BP-0x02].W,0x0000");
	ASM_INLINE("JMP	_87F1A");
ASM_INLINE("_87E37:");
	ASM_INLINE("MOV	AX,[SI].W");
	ASM_INLINE("MOV	[BP-0x08].W,AX");
	ASM_INLINE("MOV	AX,[SI].W");
	ASM_INLINE("INC	AX");
	ASM_INLINE("MOV	BX,0x0030");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	BX");
	ASM_INLINE("MOV	[SI].W,DX");
	ASM_INLINE("LES	BX,[BP-0x06]");
	ASM_INLINE("PUSH	ES:[BX+0x0A].W");
	ASM_INLINE("PUSH	ES:[BX+0x08].W");
	ASM_INLINE("LES	BX,[BP-0x06]");
	ASM_INLINE("MOV	AX,ES:[BX].W");
	ASM_INLINE("SAR	AX,1");
	ASM_INLINE("SAR	AX,1");
	ASM_INLINE("SAR	AX,1");
	ASM_INLINE("MUL	[SI+0x04].W");
	ASM_INLINE("ADD	AX,[BP-0x02].W");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("MOV	AX,[BP-0x08].W");
	ASM_INLINE("SHR	AX,1");
	ASM_INLINE("SHR	AX,1");
	ASM_INLINE("SHR	AX,1");
	ASM_INLINE("SHR	AX,1");
	ASM_INLINE("MOV	CX,0x001C");
	ASM_INLINE("MUL	CX");
	ASM_INLINE("MOV	CX,[BP-0x08].W");
	ASM_INLINE("AND	CX,0x000F");
	ASM_INLINE("ADD	CX,AX");
	ASM_INLINE("ADD	CX,0x0118");
	ASM_INLINE("POP	AX");
	ASM_INLINE("CALLF	font_put3_, SEG font_put3_");
	ASM_INLINE("ADD	SP,0x0004");
	ASM_INLINE("LES	BX,[BP-0x06]");
	ASM_INLINE("MOV	AX,ES:[BX].W");
	ASM_INLINE("MOV	BX,0x0002");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	BX");
	ASM_INLINE("MOV	CX,[SI+0x08].W");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SUB	CX,AX");
	ASM_INLINE("ADD	CX,0x0008");
	ASM_INLINE("LES	BX,[BP-0x06]");
	ASM_INLINE("MOV	AX,ES:[BX+0x02].W");
	ASM_INLINE("MOV	BX,0x0002");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	BX");
	ASM_INLINE("MOV	DX,[SI+0x0A].W");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SUB	DX,AX");
	ASM_INLINE("ADD	DX,0x0008");
	ASM_INLINE("LES	BX,[BP-0x06]");
	ASM_INLINE("SUB	DX,ES:[BX+0x04].W");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0020");
	ASM_INLINE("ADD	AX,[BP-0x08].W");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	BX,[BP-0x02].W");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,DX");
	ASM_INLINE("MOV	AX,[BP-0x08].W");
	ASM_INLINE("SHR	AX,1");
	ASM_INLINE("SHR	AX,1");
	ASM_INLINE("SHR	AX,1");
	ASM_INLINE("SHR	AX,1");
	ASM_INLINE("MOV	DX,0x001C");
	ASM_INLINE("MUL	DX");
	ASM_INLINE("MOV	DX,[BP-0x08].W");
	ASM_INLINE("AND	DX,0x000F");
	ASM_INLINE("ADD	DX,AX");
	ASM_INLINE("ADD	DX,0x0118");
	ASM_INLINE("OR	DX,0x2000");
	ASM_INLINE("POP	AX");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("INC	[BP-0x02].W");
ASM_INLINE("_87F1A:");
	ASM_INLINE("LES	BX,[BP-0x06]");
	ASM_INLINE("MOV	AX,ES:[BX].W");
	ASM_INLINE("SAR	AX,1");
	ASM_INLINE("SAR	AX,1");
	ASM_INLINE("SAR	AX,1");
	ASM_INLINE("CMP	AX,[BP-0x02].W");
	ASM_INLINE("JLE	_87F2E");
	ASM_INLINE("JMP	_87E37");
ASM_INLINE("_87F2E:");
	ASM_INLINE("INC	DI");
ASM_INLINE("_87F2F:");
	ASM_INLINE("LES	BX,[BP-0x06]");
	ASM_INLINE("MOV	AX,ES:[BX+0x02].W");
	ASM_INLINE("SAR	AX,1");
	ASM_INLINE("SAR	AX,1");
	ASM_INLINE("SAR	AX,1");
	ASM_INLINE("CMP	DI,AX");
	ASM_INLINE("JGE	_87F43");
	ASM_INLINE("JMP	_87E2F");
ASM_INLINE("_87F43:");
	ASM_INLINE("INC	[SI+0x04].W");
	ASM_INLINE("JMP	_87F8D");
ASM_INLINE("_87F48:");
	ASM_INLINE("MOV	[BP-0x08].W,0x0000");
	ASM_INLINE("JMP	_87F6C");
ASM_INLINE("_87F4F:");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0020");
	ASM_INLINE("ADD	AX,[BP-0x08].W");
	ASM_INLINE("MOV	BX,0x00E0");
	ASM_INLINE("MOV	CX,0x0090");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("INC	[BP-0x08].W");
ASM_INLINE("_87F6C:");
	ASM_INLINE("CMP	[BP-0x08].W,0x0030");
	ASM_INLINE("JB	_87F4F");
	ASM_INLINE("MOV	[SI+0x04].W,0xFFFF");
	ASM_INLINE("XOR	AX,AX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("MOV	BX,[SI+0x08].W");
	ASM_INLINE("MOV	CX,[SI+0x0A].W");
	ASM_INLINE("MOV	DX,[SI+0x0E].W");
	ASM_INLINE("CALLF	put_atack_cousorON_, SEG put_atack_cousorON_");
	ASM_INLINE("ADD	SP,0x0002");
ASM_INLINE("_87F8D:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

void wall_sprite()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	BX,AX");
	ASM_INLINE("MOV	CX,BX");
	ASM_INLINE("ADD	CX,0x0005");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_8815A");
ASM_INLINE("_87FA5:");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("CMP	[SI].W,0x8000");
	ASM_INLINE("JBE	_87FB5");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("CMP	[SI].W,0xEE00");
	ASM_INLINE("JB	_87FCD");
ASM_INLINE("_87FB5:");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("CMP	[SI+0x02].W,0x8000");
	ASM_INLINE("JA	_87FC1");
	ASM_INLINE("JMP	_88070");
ASM_INLINE("_87FC1:");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("CMP	[SI+0x02].W,0xEE00");
	ASM_INLINE("JB	_87FCD");
	ASM_INLINE("JMP	_88070");
ASM_INLINE("_87FCD:");
	ASM_INLINE("CMP	DI,0x000F");
	ASM_INLINE("JNZ	_88028");
	ASM_INLINE("CMP	[BX+0x04].B,0x00");
	ASM_INLINE("JNZ	_87FDB");
	ASM_INLINE("JMP	_880A9");
ASM_INLINE("_87FDB:");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	[BX+0x04].B,0x00");
	ASM_INLINE("CALLF	rand_, SEG rand_");
	ASM_INLINE("TEST	AX,0x0001");
	ASM_INLINE("JZ	_88008");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("CALLF	rand_, SEG rand_");
	ASM_INLINE("MOV	SI,0x0080");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	SI");
	ASM_INLINE("MOV	CL,0x08");
	ASM_INLINE("SHL	DX,CL");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("MOV	[SI].W,DX");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("MOV	[SI+0x02].W,0x8000");
	ASM_INLINE("JMP	_88024");
ASM_INLINE("_88008:");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("MOV	[SI].W,0x8000");
	ASM_INLINE("CALLF	rand_, SEG rand_");
	ASM_INLINE("MOV	SI,0x0080");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	SI");
	ASM_INLINE("MOV	CL,0x08");
	ASM_INLINE("SHL	DX,CL");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("MOV	[SI+0x02].W,DX");
ASM_INLINE("_88024:");
	ASM_INLINE("POP	BX");
	ASM_INLINE("JMP	_880A9");
ASM_INLINE("_88028:");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("CALLF	rand_, SEG rand_");
	ASM_INLINE("TEST	AX,0x0001");
	ASM_INLINE("JZ	_88051");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("CALLF	rand_, SEG rand_");
	ASM_INLINE("MOV	SI,0x0080");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	SI");
	ASM_INLINE("MOV	CL,0x08");
	ASM_INLINE("SHL	DX,CL");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("MOV	[SI].W,DX");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("MOV	[SI+0x02].W,0x8000");
	ASM_INLINE("JMP	_8806D");
ASM_INLINE("_88051:");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("MOV	[SI].W,0x8000");
	ASM_INLINE("CALLF	rand_, SEG rand_");
	ASM_INLINE("MOV	SI,0x0080");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	SI");
	ASM_INLINE("MOV	CL,0x08");
	ASM_INLINE("SHL	DX,CL");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("MOV	[SI+0x02].W,DX");
ASM_INLINE("_8806D:");
	ASM_INLINE("POP	BX");
	ASM_INLINE("JMP	_880A9");
ASM_INLINE("_88070:");
	ASM_INLINE("CMP	DI,0x000F");
	ASM_INLINE("JNZ	_88084");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("SUB	[SI].W,0x0300");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("SUB	[SI+0x02].W,0x0300");
	ASM_INLINE("JMP	_880A9");
ASM_INLINE("_88084:");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("AND	AX,0x0003");
	ASM_INLINE("ADD	AX,0x0004");
	ASM_INLINE("MOV	CL,0x07");
	ASM_INLINE("SHL	AX,CL");
	ASM_INLINE("POP	CX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("SUB	[SI].W,AX");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("AND	AX,0x0003");
	ASM_INLINE("ADD	AX,0x0004");
	ASM_INLINE("MOV	CL,0x06");
	ASM_INLINE("SHL	AX,CL");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("SUB	[SI+0x02].W,AX");
ASM_INLINE("_880A9:");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("CMP	DI,0x000F");
	ASM_INLINE("JNZ	_8811C");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_88114");
ASM_INLINE("_880B4:");
	ASM_INLINE("XOR	SI,SI");
	ASM_INLINE("JMP	_8810E");
ASM_INLINE("_880B8:");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0x006B");
	ASM_INLINE("ADD	AX,SI");
	ASM_INLINE("MOV	DX,DI");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("ADD	AX,DX");
	ASM_INLINE("MOV	BX,CX");
	ASM_INLINE("MOV	BX,[BX].W");
	ASM_INLINE("MOV	CL,0x08");
	ASM_INLINE("SAR	BX,CL");
	ASM_INLINE("MOV	DX,SI");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("ADD	BX,DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("MOV	DX,[SI+0x02].W");
	ASM_INLINE("MOV	CL,0x08");
	ASM_INLINE("SAR	DX,CL");
	ASM_INLINE("MOV	CX,DI");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	DX,CX");
	ASM_INLINE("MOV	CX,DX");
	ASM_INLINE("MOV	DX,0x000C");
	ASM_INLINE("POP	SI");
	ASM_INLINE("ADD	DX,SI");
	ASM_INLINE("MOV	SI,DI");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("ADD	DX,SI");
	ASM_INLINE("ADD	DX,0x01A4");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	SI");
	ASM_INLINE("INC	SI");
	ASM_INLINE("POP	CX");
ASM_INLINE("_8810E:");
	ASM_INLINE("CMP	SI,0x0002");
	ASM_INLINE("JL	_880B8");
	ASM_INLINE("INC	DI");
ASM_INLINE("_88114:");
	ASM_INLINE("CMP	DI,0x0002");
	ASM_INLINE("JL	_880B4");
	ASM_INLINE("POP	DI");
	ASM_INLINE("JMP	_88155");
ASM_INLINE("_8811C:");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x005C");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("MOV	BX,[SI].W");
	ASM_INLINE("MOV	CL,0x08");
	ASM_INLINE("SAR	BX,CL");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SI,CX");
	ASM_INLINE("MOV	DX,[SI+0x02].W");
	ASM_INLINE("MOV	CL,0x08");
	ASM_INLINE("SAR	DX,CL");
	ASM_INLINE("MOV	CX,DX");
	ASM_INLINE("MOV	AX,DI");
	ASM_INLINE("MOV	SI,0x0003");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	SI");
	ASM_INLINE("ADD	DX,0x0009");
	ASM_INLINE("ADD	DX,0x01A4");
	ASM_INLINE("POP	AX");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	CX");
ASM_INLINE("_88155:");
	ASM_INLINE("INC	DI");
	ASM_INLINE("ADD	CX,0x0004");
	ASM_INLINE("POP	BX");
ASM_INLINE("_8815A:");
	ASM_INLINE("CMP	DI,0x0010");
	ASM_INLINE("JGE	_88162");
	ASM_INLINE("JMP	_87FA5");
ASM_INLINE("_88162:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

void win_icon_sprite()
{
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	AX,[SI].W");
	ASM_INLINE("MOV	DL,AH");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("JMP	_881AB");
ASM_INLINE("_88175:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x001C");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,0x0080");
	ASM_INLINE("ADD	BX,0x0002");
	ASM_INLINE("MOV	CX,0x0002");
	ASM_INLINE("AND	DL,0x03");
	ASM_INLINE("XOR	DH,DH");
	ASM_INLINE("ADD	DX,0x000C");
	ASM_INLINE("ADD	DX,0x00FC");
	ASM_INLINE("OR	DX,0x2000");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("INC	DI");
	ASM_INLINE("POP	DX");
ASM_INLINE("_881AB:");
	ASM_INLINE("MOV	AL,[SI+0x4B].B");
	ASM_INLINE("XOR	AH,AH");
	ASM_INLINE("CMP	DI,AX");
	ASM_INLINE("JL	_88175");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("JMP	_881DE");
ASM_INLINE("_881B7:");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x001C");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,0x0080");
	ASM_INLINE("ADD	BX,0x0002");
	ASM_INLINE("MOV	CX,0x0002");
	ASM_INLINE("MOV	DX,0x209B");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("INC	DI");
ASM_INLINE("_881DE:");
	ASM_INLINE("CMP	DI,0x0002");
	ASM_INLINE("JL	_881B7");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("JMP	_8821E");
ASM_INLINE("_881E8:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x001E");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,0x0080");
	ASM_INLINE("ADD	BX,0x0002");
	ASM_INLINE("MOV	CX,0x0052");
	ASM_INLINE("AND	DL,0x03");
	ASM_INLINE("XOR	DH,DH");
	ASM_INLINE("ADD	DX,0x000C");
	ASM_INLINE("ADD	DX,0x00FC");
	ASM_INLINE("OR	DX,0x2000");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("INC	DI");
	ASM_INLINE("POP	DX");
ASM_INLINE("_8821E:");
	ASM_INLINE("MOV	AL,[SI+0x72].B");
	ASM_INLINE("XOR	AH,AH");
	ASM_INLINE("CMP	DI,AX");
	ASM_INLINE("JL	_881E8");
	ASM_INLINE("JMP	_88250");
ASM_INLINE("_88229:");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x001E");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("MOV	BX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,0x0080");
	ASM_INLINE("ADD	BX,0x0002");
	ASM_INLINE("MOV	CX,0x0052");
	ASM_INLINE("MOV	DX,0x209B");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("INC	DI");
ASM_INLINE("_88250:");
	ASM_INLINE("CMP	DI,0x0002");
	ASM_INLINE("JL	_88229");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
}

void pause_put()
{
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0006");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("XOR	DI,DI");
	ASM_INLINE("MOV	AX,SEG unk_1_"); //unk_1
	ASM_INLINE("MOV	ES,AX");
	//ASM_INLINE("MOV	AL,ES:[SI+0x0004].B"); //unk_1
	ASM_OP5(0x26,0x8A,0x84,0x04,0x00);
	ASM_INLINE("CBW");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	CX,SEG str_all_"); //str_all
	ASM_INLINE("MOV	ES,CX");
	ASM_INLINE("SHL	SI,1");
	ASM_INLINE("SHL	SI,1");
	//ASM_INLINE("MOV	CX,ES:[SI+0x000C].W");
	ASM_OP5(0x26,0x8B,0x8C,0x0C,0x00);
	//ASM_INLINE("MOV	DX,ES:[SI+0x000E].W");
	ASM_OP5(0x26,0x8B,0x94,0x0E,0x00);
	ASM_INLINE("MOV	[BP-0x04].W,CX");
	ASM_INLINE("MOV	[BP-0x02].W,DX");
	ASM_INLINE("MOV	SI,0x0038");
	ASM_INLINE("MOV	CX,AX");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SUB	SI,CX");
	ASM_INLINE("MOV	DX,0x0034");
	ASM_INLINE("TEST	BX,BX");
	ASM_INLINE("JNZ	_882A2");
	ASM_INLINE("MOV	DX,0x0090");
ASM_INLINE("_882A2:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("MOV	[BP-0x06].W,0x0000");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0xFFFF");
	ASM_INLINE("INC	DI");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("MOV	CX,[BP-0x06].W");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,DX");
	ASM_INLINE("MOV	DX,0x2097");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("MOV	BX,0x0001");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JMP	_88308");
ASM_INLINE("_882D9:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0xFFFF");
	ASM_INLINE("INC	DI");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("MOV	CX,[BP-0x06].W");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,DX");
	ASM_INLINE("MOV	DX,0x2098");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	BX");
	ASM_INLINE("INC	BX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("POP	DX");
ASM_INLINE("_88308:");
	ASM_INLINE("MOV	CX,AX");
	ASM_INLINE("INC	CX");
	ASM_INLINE("CMP	BX,CX");
	ASM_INLINE("JL	_882D9");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0xFFFF");
	ASM_INLINE("INC	DI");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("MOV	CX,[BP-0x06].W");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,DX");
	ASM_INLINE("MOV	DX,0x6097");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("POP	DX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("INC	[BP-0x06].W");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0xFFFF");
	ASM_INLINE("INC	DI");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("MOV	CX,[BP-0x06].W");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,DX");
	ASM_INLINE("MOV	DX,0x2099");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	BX");
	ASM_INLINE("INC	BX");
	ASM_INLINE("POP	DX");
	ASM_INLINE("JMP	_883CE");
ASM_INLINE("_8836E:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0xFFFF");
	ASM_INLINE("INC	DI");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	CX,[BP-0x06].W");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,DX");
	ASM_INLINE("LES	SI,[BP-0x04]");
	ASM_INLINE("MOV	AL,ES:[SI].B");
	ASM_INLINE("XOR	AH,AH");
	ASM_INLINE("SUB	AX,0x0010");
	ASM_INLINE("SHR	AX,1");
	ASM_INLINE("SHR	AX,1");
	ASM_INLINE("SHR	AX,1");
	ASM_INLINE("MOV	DX,0x001C");
	ASM_INLINE("MUL	DX");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("MOV	DL,ES:[BX].B");
	ASM_INLINE("SUB	DL,0x10");
	ASM_INLINE("AND	DL,0x07");
	ASM_INLINE("XOR	DH,DH");
	ASM_INLINE("ADD	DX,0x0008");
	ASM_INLINE("ADD	DX,AX");
	ASM_INLINE("OR	DX,0x2000");
	ASM_INLINE("POP	BX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("INC	[BP-0x04].W");
	ASM_INLINE("POP	BX");
	ASM_INLINE("INC	BX");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
ASM_INLINE("_883CE:");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("LES	BX,[BP-0x04]");
	ASM_INLINE("CMP	ES:[BX].B,0x00");
	ASM_INLINE("POP	BX");
	ASM_INLINE("JNZ	_8836E");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0xFFFF");
	ASM_INLINE("INC	DI");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("MOV	CX,[BP-0x06].W");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,DX");
	ASM_INLINE("MOV	DX,0x2099");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("INC	[BP-0x06].W");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("POP	DX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0xFFFF");
	ASM_INLINE("INC	DI");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("MOV	CX,[BP-0x06].W");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,DX");
	ASM_INLINE("MOV	DX,0xA097");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("MOV	BX,0x0001");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("JMP	_88467");
ASM_INLINE("_88438:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("MOV	CX,0x0004");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("MOV	AX,0xFFFF");
	ASM_INLINE("INC	DI");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("MOV	CX,[BP-0x06].W");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,DX");
	ASM_INLINE("MOV	DX,0x2098");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	BX");
	ASM_INLINE("INC	BX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("POP	DX");
ASM_INLINE("_88467:");
	ASM_INLINE("MOV	CX,AX");
	ASM_INLINE("INC	CX");
	ASM_INLINE("CMP	BX,CX");
	ASM_INLINE("JL	_88438");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0xFFFF");
	ASM_INLINE("INC	DI");
	ASM_INLINE("ADD	AX,DI");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("ADD	BX,SI");
	ASM_INLINE("MOV	CX,[BP-0x06].W");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	CX,DX");
	ASM_INLINE("MOV	DX,0xE097");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

void screen_effect_run()
{
	nbg_scroll; //Force include
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("CMP	[SI+0x016D].B,0x00");
	ASM_INLINE("JZ	_884DF");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("CALLF	rand_, SEG rand_");
	ASM_INLINE("TEST	AX,0x0001");
	ASM_INLINE("JZ	_884BC");
	ASM_INLINE("MOV	BX,0x0001");
	ASM_INLINE("JMP	_884BF");
ASM_INLINE("_884BC:");
	ASM_INLINE("MOV	BX,0xFFFF");
ASM_INLINE("_884BF:");
	ASM_INLINE("PUSH	BX");
	ASM_INLINE("CALLF	rand_, SEG rand_");
	ASM_INLINE("TEST	AX,0x0001");
	ASM_INLINE("JZ	_884CF");
	ASM_INLINE("MOV	CX,0x0001");
	ASM_INLINE("JMP	_884D2");
ASM_INLINE("_884CF:");
	ASM_INLINE("MOV	CX,0xFFFF");
ASM_INLINE("_884D2:");
	ASM_INLINE("POP	BX");
	ASM_INLINE("POP	AX");
	ASM_INLINE("CALLF	nbg_scroll_, SEG nbg_scroll_");
	ASM_INLINE("DEC	[SI+0x016D].B");
	ASM_INLINE("JMP	_884EB");
ASM_INLINE("_884DF:");
	ASM_INLINE("MOV	AX,0x0001");
	ASM_INLINE("XOR	BX,BX");
	ASM_INLINE("XOR	CX,CX");
	ASM_INLINE("CALLF	nbg_scroll_, SEG nbg_scroll_");
ASM_INLINE("_884EB:");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	CX");
}

void decoy_put()
{
	ASM_INLINE("PUSH	BP");
	ASM_INLINE("MOV	BP,SP");
	ASM_INLINE("SUB	SP,0x0006");
	ASM_INLINE("PUSH	CX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("PUSH	SI");
	ASM_INLINE("PUSH	DI");
	ASM_INLINE("MOV	SI,AX");
	ASM_INLINE("MOV	[BP-0x02].W,0x0000");
	ASM_INLINE("MOV	BX,[SI].W");
	ASM_INLINE("MOV	CL,0x09");
	ASM_INLINE("SHR	BX,CL");
	ASM_INLINE("CMP	[SI+0x0171].B,0x00");
	ASM_INLINE("JNZ	_8850F");
	ASM_INLINE("JMP	_885C7");
ASM_INLINE("_8850F:");
	ASM_INLINE("MOV	DI,unk_1_");
	ASM_INLINE("MOV	AX,SEG unk_1_");
	ASM_INLINE("MOV	ES,AX");
	ASM_INLINE("XOR	BH,BH");
	ASM_INLINE("MOV	AX,BX");
	ASM_INLINE("MOV	BX,0x0003");
	ASM_INLINE("CWD");
	ASM_INLINE("IDIV	BX");
	ASM_INLINE("MOV	BX,DX");
	//ASM_INLINE("MOV	DL,ES:[BX+0x000A].B");
	ASM_OP5(0x26,0x8A,0x97,0x0A,0x00);
	ASM_INLINE("XOR	DH,DH");
	ASM_INLINE("MOV	[BP-0x04].W,0x0000");
	ASM_INLINE("JMP	_885A6");
ASM_INLINE("_88531:");
	ASM_INLINE("MOV	[BP-0x06].W,0x0000");
	ASM_INLINE("JMP	_8859D");
ASM_INLINE("_88538:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0017");
	ASM_INLINE("INC	[BP-0x02].W");
	ASM_INLINE("ADD	AX,[BP-0x02].W");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	BX,[BP-0x06].W");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	CL,[SI+0x016F].B");
	ASM_INLINE("XOR	CH,CH");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("MOV	CX,[BP-0x04].W");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("MOV	DL,[SI+0x0170].B");
	ASM_INLINE("XOR	DH,DH");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("ADD	CX,DX");
	ASM_INLINE("POP	DX");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("ADD	AX,[BP-0x04].W");
	ASM_INLINE("MOV	DX,0x001C");
	ASM_INLINE("MUL	DX");
	ASM_INLINE("MOV	DX,DI");
	ASM_INLINE("ADD	DX,[BP-0x06].W");
	ASM_INLINE("ADD	DX,AX");
	ASM_INLINE("OR	DX,0x2000");
	ASM_INLINE("POP	AX");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("INC	[BP-0x06].W");
	ASM_INLINE("POP	DX");
ASM_INLINE("_8859D:");
	ASM_INLINE("CMP	[BP-0x06].W,0x0002");
	ASM_INLINE("JL	_88538");
	ASM_INLINE("INC	[BP-0x04].W");
ASM_INLINE("_885A6:");
	ASM_INLINE("CMP	[BP-0x04].W,0x0002");
	ASM_INLINE("JL	_88531");
	ASM_INLINE("DEC	[SI+0x0171].B");
	ASM_INLINE("CMP	[SI+0x0171].B,0x00");
	ASM_INLINE("JZ	_885BA");
	ASM_INLINE("JMP	_886A4");
ASM_INLINE("_885BA:");
	ASM_INLINE("MOV	[SI+0x016F].B,0x0F");
	ASM_INLINE("MOV	[SI+0x0170].B,0x0F");
	ASM_INLINE("JMP	_886A4");
ASM_INLINE("_885C7:");
	ASM_INLINE("CMP	[SI+0x016F].B,0x0F");
	ASM_INLINE("JNZ	_8860E");
	ASM_INLINE("MOV	[BP-0x04].W,0x0000");
	ASM_INLINE("JMP	_88605");
ASM_INLINE("_885D5:");
	ASM_INLINE("MOV	[BP-0x06].W,0x0000");
	ASM_INLINE("JMP	_885FC");
ASM_INLINE("_885DC:");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0017");
	ASM_INLINE("INC	[BP-0x02].W");
	ASM_INLINE("ADD	AX,[BP-0x02].W");
	ASM_INLINE("MOV	BX,0x00E0");
	ASM_INLINE("MOV	CX,0x0090");
	ASM_INLINE("XOR	DX,DX");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("INC	[BP-0x06].W");
ASM_INLINE("_885FC:");
	ASM_INLINE("CMP	[BP-0x06].W,0x0002");
	ASM_INLINE("JL	_885DC");
	ASM_INLINE("INC	[BP-0x04].W");
ASM_INLINE("_88605:");
	ASM_INLINE("CMP	[BP-0x04].W,0x0002");
	ASM_INLINE("JL	_885D5");
	ASM_INLINE("JMP	_886A4");
ASM_INLINE("_8860E:");
	ASM_INLINE("MOV	DI,unk_2_");
	ASM_INLINE("MOV	AX,SEG unk_2_");
	ASM_INLINE("MOV	ES,AX");
	ASM_INLINE("AND	BL,0x03");
	ASM_INLINE("XOR	BH,BH");
	//ASM_INLINE("MOV	DL,ES:[BX+0x0006].B");
	ASM_OP5(0x26,0x8A,0x97,0x06,0x00);
	ASM_INLINE("XOR	DH,DH");
	ASM_INLINE("MOV	[BP-0x04].W,0x0000");
	ASM_INLINE("JMP	_8869E");
ASM_INLINE("_88629:");
	ASM_INLINE("MOV	[BP-0x06].W,0x0000");
	ASM_INLINE("JMP	_88695");
ASM_INLINE("_88630:");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	AX,0x0004");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("MOV	AX,0x0017");
	ASM_INLINE("INC	[BP-0x02].W");
	ASM_INLINE("ADD	AX,[BP-0x02].W");
	ASM_INLINE("PUSH	AX");
	ASM_INLINE("PUSH	DX");
	ASM_INLINE("MOV	BX,[BP-0x06].W");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("SHL	BX,1");
	ASM_INLINE("MOV	CL,[SI+0x016F].B");
	ASM_INLINE("XOR	CH,CH");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("ADD	BX,CX");
	ASM_INLINE("MOV	CX,[BP-0x04].W");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("SHL	CX,1");
	ASM_INLINE("MOV	DL,[SI+0x0170].B");
	ASM_INLINE("XOR	DH,DH");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("SHL	DX,1");
	ASM_INLINE("ADD	CX,DX");
	ASM_INLINE("POP	DX");
	ASM_INLINE("MOV	AX,DX");
	ASM_INLINE("ADD	AX,[BP-0x04].W");
	ASM_INLINE("MOV	DX,0x001C");
	ASM_INLINE("MUL	DX");
	ASM_INLINE("MOV	DX,DI");
	ASM_INLINE("ADD	DX,[BP-0x06].W");
	ASM_INLINE("ADD	DX,AX");
	ASM_INLINE("OR	DX,0x2000");
	ASM_INLINE("POP	AX");
	ASM_INLINE("CALLF	put_sprite_, SEG put_sprite_");
	ASM_INLINE("ADD	SP,0x0002");
	ASM_INLINE("INC	[BP-0x06].W");
	ASM_INLINE("POP	DX");
ASM_INLINE("_88695:");
	ASM_INLINE("CMP	[BP-0x06].W,0x0002");
	ASM_INLINE("JL	_88630");
	ASM_INLINE("INC	[BP-0x04].W");
ASM_INLINE("_8869E:");
	ASM_INLINE("CMP	[BP-0x04].W,0x0002");
	ASM_INLINE("JL	_88629");
ASM_INLINE("_886A4:");
	ASM_INLINE("POP	DI");
	ASM_INLINE("POP	SI");
	ASM_INLINE("POP	DX");
	ASM_INLINE("POP	CX");
	ASM_INLINE("MOV	SP,BP");
	ASM_INLINE("POP	BP");
}

